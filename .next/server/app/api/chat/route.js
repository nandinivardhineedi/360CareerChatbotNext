"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5Cdell%5CDownloads%5C360CareerChatbotNext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdell%5CDownloads%5C360CareerChatbotNext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5Cdell%5CDownloads%5C360CareerChatbotNext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdell%5CDownloads%5C360CareerChatbotNext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_dell_Downloads_360CareerChatbotNext_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/chat/route.ts */ \"(rsc)/./app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\dell\\\\Downloads\\\\360CareerChatbotNext\\\\app\\\\api\\\\chat\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_dell_Downloads_360CareerChatbotNext_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNkZWxsJTVDRG93bmxvYWRzJTVDMzYwQ2FyZWVyQ2hhdGJvdE5leHQlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2RlbGwlNUNEb3dubG9hZHMlNUMzNjBDYXJlZXJDaGF0Ym90TmV4dCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDMEI7QUFDdkc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haTM2MC1jYXJlZXItZGVtby8/YWVjYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxkZWxsXFxcXERvd25sb2Fkc1xcXFwzNjBDYXJlZXJDaGF0Ym90TmV4dFxcXFxhcHBcXFxcYXBpXFxcXGNoYXRcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NoYXQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGF0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGF0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcZGVsbFxcXFxEb3dubG9hZHNcXFxcMzYwQ2FyZWVyQ2hhdGJvdE5leHRcXFxcYXBwXFxcXGFwaVxcXFxjaGF0XFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jaGF0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5Cdell%5CDownloads%5C360CareerChatbotNext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdell%5CDownloads%5C360CareerChatbotNext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/chat/route.ts":
/*!*******************************!*\
  !*** ./app/api/chat/route.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_rag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/rag */ \"(rsc)/./lib/rag.js\");\n// app/api/chat/route.ts\n\n\nasync function tryGeminiPolish(localText) {\n    // Only attempt if key present\n    const key = process.env.GOOGLE_API_KEY;\n    if (!key) return null;\n    try {\n        const { GoogleGenerativeAI } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/@google\").then(__webpack_require__.bind(__webpack_require__, /*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\"));\n        const genAI = new GoogleGenerativeAI(key);\n        const model = genAI.getGenerativeModel({\n            model: \"gemini-1.5-pro\"\n        });\n        // ask the model to rewrite the Answer section to be concise & friendly\n        // const resp = await model.generateContent({\n        //   prompt: `Polish the following career guidance into a crisp, friendly reply. Preserve sections (Summary, Recommended skills, Next Steps, Sample Projects, (if present) 12-week plan). Keep bullets.\\n\\n${localText}`,\n        //   // using general generateContent call; the SDK may vary slightly â€” this is best-effort.\n        // });\n        // const resp = await model.generateContent([\n        //   {\n        //     role: \"user\",\n        //     parts: [\n        //       { text: `Polish the following career guidance into a crisp, friendly reply. Preserve sections (Summary, Recommended skills, Next Steps, Sample Projects, (if present) 12-week plan). Keep bullets.\\n\\n${localText}` }\n        //     ]\n        //   }\n        // ]);\n        const resp = await model.generateContent(`Polish the following career guidance into a crisp, friendly reply. Preserve sections (Summary, Recommended skills, Next Steps, Sample Projects, (if present) 12-week plan). Keep bullets.\\n\\n${localText}`);\n        const text = resp?.response?.text?.() || resp?.response || null;\n        return typeof text === \"string\" && text.length ? text : null;\n    } catch (e) {\n        console.warn(\"Gemini polish failed:\", e?.message || e);\n        return null;\n    }\n}\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const messages = body?.messages || [];\n        const profile = body?.profile || null;\n        const last = messages?.[messages.length - 1]?.content || \"\";\n        // Retrieve top hits from local seeds\n        const hits = (0,_lib_rag__WEBPACK_IMPORTED_MODULE_1__.retrieve)(last, 6); // returns array of {id, text}\n        // Local deterministic answer\n        const local = (0,_lib_rag__WEBPACK_IMPORTED_MODULE_1__.synthesizeAnswer)(last, profile, hits);\n        // Try to polish with Gemini if key present (non-blocking)\n        const polished = await tryGeminiPolish(local);\n        const answer = polished || local;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            answer\n        });\n    } catch (err) {\n        console.error(\"Chat API error:\", err);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            answer: \"Sorry â€” something went wrong generating the answer.\"\n        }, {\n            status: 500\n        });\n    }\n} // import { NextResponse } from \"next/server\";\n // import { retrieve, synthesizeAnswer } from \"@/lib/rag\";\n // export async function POST(req: Request) {\n //   try {\n //     const { question } = await req.json();\n //     const docs = await retrieve(question);\n //     const answer = await synthesizeAnswer(question, docs);\n //     return NextResponse.json({ answer });\n //   } catch (err) {\n //     console.error(err);\n //     return NextResponse.json({ error: \"Failed to generate response\" }, { status: 500 });\n //   }\n // }\n // import { NextRequest, NextResponse } from \"next/server\";\n // import { retrieve, synthesizeAnswer } from \"@/lib/rag\";\n // async function tryGemini(prompt:string){ const key=process.env.GEMINI_API_KEY; if(!key) return null;\n //   try{ const { GoogleGenerativeAI } = await import(\"@google/generative-ai\"); const genAI=new GoogleGenerativeAI(key);\n //     const model=genAI.getGenerativeModel({model:\"gemini-1.5-pro\"}); const resp=await model.generateContent(prompt); return resp.response.text();\n //   }catch(e){ console.error(\"Gemini error\",e); return null; } }\n // export async function POST(req:NextRequest){ const body=await req.json(); const { messages, profile } = body||{};\n //   const last = messages?.[messages.length-1]?.content || \"\";\n //   const top = retrieve(last, 6); const local = synthesizeAnswer(last, profile, top);\n //   const geminiPrompt = `${local}\\n\\nRewrite the 'Answer' section only as a crisp, friendly response. Keep bullets. Personalize to the profile. Avoid repeating the 'Context' text.`;\n //   const upgraded = await tryGemini(geminiPrompt);\n //   return NextResponse.json({ answer: upgraded || local });\n // }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NoYXQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsd0JBQXdCO0FBQ2dDO0FBQ0Q7QUFFdkQsZUFBZUcsZ0JBQWdCQyxTQUFpQjtJQUM5Qyw4QkFBOEI7SUFDOUIsTUFBTUMsTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0lBQ3RDLElBQUksQ0FBQ0gsS0FBSyxPQUFPO0lBQ2pCLElBQUk7UUFDRixNQUFNLEVBQUVJLGtCQUFrQixFQUFFLEdBQUcsTUFBTSw0TUFBK0I7UUFDcEUsTUFBTUMsUUFBUSxJQUFJRCxtQkFBbUJKO1FBQ3JDLE1BQU1NLFFBQVFELE1BQU1FLGtCQUFrQixDQUFDO1lBQUVELE9BQU87UUFBaUI7UUFDakUsdUVBQXVFO1FBQ3ZFLDZDQUE2QztRQUM3Qyx5TkFBeU47UUFDek4sNEZBQTRGO1FBQzVGLE1BQU07UUFFTiw2Q0FBNkM7UUFDN0MsTUFBTTtRQUNOLG9CQUFvQjtRQUNwQixlQUFlO1FBQ2YsOE5BQThOO1FBQzlOLFFBQVE7UUFDUixNQUFNO1FBQ04sTUFBTTtRQUVOLE1BQU1FLE9BQU8sTUFBTUYsTUFBTUcsZUFBZSxDQUN0QyxDQUFDLDZMQUE2TCxFQUFFVixVQUFVLENBQUM7UUFJN00sTUFBTVcsT0FBT0YsTUFBTUcsVUFBVUQsWUFBWUYsTUFBTUcsWUFBWTtRQUMzRCxPQUFPLE9BQU9ELFNBQVMsWUFBWUEsS0FBS0UsTUFBTSxHQUFHRixPQUFPO0lBQzFELEVBQUUsT0FBT0csR0FBRztRQUNWQyxRQUFRQyxJQUFJLENBQUMseUJBQXlCRixHQUFHRyxXQUFXSDtRQUNwRCxPQUFPO0lBQ1Q7QUFDRjtBQUVPLGVBQWVJLEtBQUtDLEdBQWdCO0lBQ3pDLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1ELElBQUlFLElBQUk7UUFDM0IsTUFBTUMsV0FBV0YsTUFBTUUsWUFBWSxFQUFFO1FBQ3JDLE1BQU1DLFVBQVVILE1BQU1HLFdBQVc7UUFDakMsTUFBTUMsT0FBT0YsVUFBVSxDQUFDQSxTQUFTVCxNQUFNLEdBQUcsRUFBRSxFQUFFWSxXQUFXO1FBRXpELHFDQUFxQztRQUNyQyxNQUFNQyxPQUFPN0Isa0RBQVFBLENBQUMyQixNQUFNLElBQUksOEJBQThCO1FBRTlELDZCQUE2QjtRQUM3QixNQUFNRyxRQUFRN0IsMERBQWdCQSxDQUFDMEIsTUFBTUQsU0FBU0c7UUFFOUMsMERBQTBEO1FBQzFELE1BQU1FLFdBQVcsTUFBTTdCLGdCQUFnQjRCO1FBQ3ZDLE1BQU1FLFNBQVNELFlBQVlEO1FBRTNCLE9BQU8vQixxREFBWUEsQ0FBQ3lCLElBQUksQ0FBQztZQUFFUTtRQUFPO0lBQ3BDLEVBQUUsT0FBT0MsS0FBSztRQUNaZixRQUFRZ0IsS0FBSyxDQUFDLG1CQUFtQkQ7UUFDakMsT0FBT2xDLHFEQUFZQSxDQUFDeUIsSUFBSSxDQUFDO1lBQUVRLFFBQVE7UUFBc0QsR0FBRztZQUFFRyxRQUFRO1FBQUk7SUFDNUc7QUFDRixFQW9CQSw4Q0FBOEM7Q0FDOUMsMERBQTBEO0NBRTFELDZDQUE2QztDQUM3QyxVQUFVO0NBQ1YsNkNBQTZDO0NBQzdDLDZDQUE2QztDQUM3Qyw2REFBNkQ7Q0FDN0QsNENBQTRDO0NBQzVDLG9CQUFvQjtDQUNwQiwwQkFBMEI7Q0FDMUIsMkZBQTJGO0NBQzNGLE1BQU07Q0FDTixJQUFJO0NBaUJKLDJEQUEyRDtDQUMzRCwwREFBMEQ7Q0FDMUQsdUdBQXVHO0NBQ3ZHLHdIQUF3SDtDQUN4SCxtSkFBbUo7Q0FDbkosaUVBQWlFO0NBQ2pFLG9IQUFvSDtDQUNwSCwrREFBK0Q7Q0FDL0QsdUZBQXVGO0NBQ3ZGLHVMQUF1TDtDQUN2TCxvREFBb0Q7Q0FDcEQsNkRBQTZEO0NBQzdELElBQUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haTM2MC1jYXJlZXItZGVtby8uL2FwcC9hcGkvY2hhdC9yb3V0ZS50cz9kZTQ2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGFwcC9hcGkvY2hhdC9yb3V0ZS50c1xuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgcmV0cmlldmUsIHN5bnRoZXNpemVBbnN3ZXIgfSBmcm9tIFwiQC9saWIvcmFnXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIHRyeUdlbWluaVBvbGlzaChsb2NhbFRleHQ6IHN0cmluZykge1xuICAvLyBPbmx5IGF0dGVtcHQgaWYga2V5IHByZXNlbnRcbiAgY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuR09PR0xFX0FQSV9LRVk7XG4gIGlmICgha2V5KSByZXR1cm4gbnVsbDtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IEdvb2dsZUdlbmVyYXRpdmVBSSB9ID0gYXdhaXQgaW1wb3J0KFwiQGdvb2dsZS9nZW5lcmF0aXZlLWFpXCIpO1xuICAgIGNvbnN0IGdlbkFJID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShrZXkpO1xuICAgIGNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IFwiZ2VtaW5pLTEuNS1wcm9cIiB9KTtcbiAgICAvLyBhc2sgdGhlIG1vZGVsIHRvIHJld3JpdGUgdGhlIEFuc3dlciBzZWN0aW9uIHRvIGJlIGNvbmNpc2UgJiBmcmllbmRseVxuICAgIC8vIGNvbnN0IHJlc3AgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgIC8vICAgcHJvbXB0OiBgUG9saXNoIHRoZSBmb2xsb3dpbmcgY2FyZWVyIGd1aWRhbmNlIGludG8gYSBjcmlzcCwgZnJpZW5kbHkgcmVwbHkuIFByZXNlcnZlIHNlY3Rpb25zIChTdW1tYXJ5LCBSZWNvbW1lbmRlZCBza2lsbHMsIE5leHQgU3RlcHMsIFNhbXBsZSBQcm9qZWN0cywgKGlmIHByZXNlbnQpIDEyLXdlZWsgcGxhbikuIEtlZXAgYnVsbGV0cy5cXG5cXG4ke2xvY2FsVGV4dH1gLFxuICAgIC8vICAgLy8gdXNpbmcgZ2VuZXJhbCBnZW5lcmF0ZUNvbnRlbnQgY2FsbDsgdGhlIFNESyBtYXkgdmFyeSBzbGlnaHRseSDigJQgdGhpcyBpcyBiZXN0LWVmZm9ydC5cbiAgICAvLyB9KTtcblxuICAgIC8vIGNvbnN0IHJlc3AgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQoW1xuICAgIC8vICAge1xuICAgIC8vICAgICByb2xlOiBcInVzZXJcIixcbiAgICAvLyAgICAgcGFydHM6IFtcbiAgICAvLyAgICAgICB7IHRleHQ6IGBQb2xpc2ggdGhlIGZvbGxvd2luZyBjYXJlZXIgZ3VpZGFuY2UgaW50byBhIGNyaXNwLCBmcmllbmRseSByZXBseS4gUHJlc2VydmUgc2VjdGlvbnMgKFN1bW1hcnksIFJlY29tbWVuZGVkIHNraWxscywgTmV4dCBTdGVwcywgU2FtcGxlIFByb2plY3RzLCAoaWYgcHJlc2VudCkgMTItd2VlayBwbGFuKS4gS2VlcCBidWxsZXRzLlxcblxcbiR7bG9jYWxUZXh0fWAgfVxuICAgIC8vICAgICBdXG4gICAgLy8gICB9XG4gICAgLy8gXSk7XG5cbiAgICBjb25zdCByZXNwID0gYXdhaXQgbW9kZWwuZ2VuZXJhdGVDb250ZW50KFxuICAgICAgYFBvbGlzaCB0aGUgZm9sbG93aW5nIGNhcmVlciBndWlkYW5jZSBpbnRvIGEgY3Jpc3AsIGZyaWVuZGx5IHJlcGx5LiBQcmVzZXJ2ZSBzZWN0aW9ucyAoU3VtbWFyeSwgUmVjb21tZW5kZWQgc2tpbGxzLCBOZXh0IFN0ZXBzLCBTYW1wbGUgUHJvamVjdHMsIChpZiBwcmVzZW50KSAxMi13ZWVrIHBsYW4pLiBLZWVwIGJ1bGxldHMuXFxuXFxuJHtsb2NhbFRleHR9YFxuICAgICk7XG4gICAgXG4gICAgXG4gICAgY29uc3QgdGV4dCA9IHJlc3A/LnJlc3BvbnNlPy50ZXh0Py4oKSB8fCByZXNwPy5yZXNwb25zZSB8fCBudWxsO1xuICAgIHJldHVybiB0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIiAmJiB0ZXh0Lmxlbmd0aCA/IHRleHQgOiBudWxsO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS53YXJuKFwiR2VtaW5pIHBvbGlzaCBmYWlsZWQ6XCIsIGU/Lm1lc3NhZ2UgfHwgZSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gYm9keT8ubWVzc2FnZXMgfHwgW107XG4gICAgY29uc3QgcHJvZmlsZSA9IGJvZHk/LnByb2ZpbGUgfHwgbnVsbDtcbiAgICBjb25zdCBsYXN0ID0gbWVzc2FnZXM/LlttZXNzYWdlcy5sZW5ndGggLSAxXT8uY29udGVudCB8fCBcIlwiO1xuXG4gICAgLy8gUmV0cmlldmUgdG9wIGhpdHMgZnJvbSBsb2NhbCBzZWVkc1xuICAgIGNvbnN0IGhpdHMgPSByZXRyaWV2ZShsYXN0LCA2KTsgLy8gcmV0dXJucyBhcnJheSBvZiB7aWQsIHRleHR9XG5cbiAgICAvLyBMb2NhbCBkZXRlcm1pbmlzdGljIGFuc3dlclxuICAgIGNvbnN0IGxvY2FsID0gc3ludGhlc2l6ZUFuc3dlcihsYXN0LCBwcm9maWxlLCBoaXRzKTtcblxuICAgIC8vIFRyeSB0byBwb2xpc2ggd2l0aCBHZW1pbmkgaWYga2V5IHByZXNlbnQgKG5vbi1ibG9ja2luZylcbiAgICBjb25zdCBwb2xpc2hlZCA9IGF3YWl0IHRyeUdlbWluaVBvbGlzaChsb2NhbCk7XG4gICAgY29uc3QgYW5zd2VyID0gcG9saXNoZWQgfHwgbG9jYWw7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBhbnN3ZXIgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJDaGF0IEFQSSBlcnJvcjpcIiwgZXJyKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBhbnN3ZXI6IFwiU29ycnkg4oCUIHNvbWV0aGluZyB3ZW50IHdyb25nIGdlbmVyYXRpbmcgdGhlIGFuc3dlci5cIiB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vIGltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuLy8gaW1wb3J0IHsgcmV0cmlldmUsIHN5bnRoZXNpemVBbnN3ZXIgfSBmcm9tIFwiQC9saWIvcmFnXCI7XG5cbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuLy8gICB0cnkge1xuLy8gICAgIGNvbnN0IHsgcXVlc3Rpb24gfSA9IGF3YWl0IHJlcS5qc29uKCk7XG4vLyAgICAgY29uc3QgZG9jcyA9IGF3YWl0IHJldHJpZXZlKHF1ZXN0aW9uKTtcbi8vICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCBzeW50aGVzaXplQW5zd2VyKHF1ZXN0aW9uLCBkb2NzKTtcbi8vICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBhbnN3ZXIgfSk7XG4vLyAgIH0gY2F0Y2ggKGVycikge1xuLy8gICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbi8vICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJGYWlsZWQgdG8gZ2VuZXJhdGUgcmVzcG9uc2VcIiB9LCB7IHN0YXR1czogNTAwIH0pO1xuLy8gICB9XG4vLyB9XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vIGltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbi8vIGltcG9ydCB7IHJldHJpZXZlLCBzeW50aGVzaXplQW5zd2VyIH0gZnJvbSBcIkAvbGliL3JhZ1wiO1xuLy8gYXN5bmMgZnVuY3Rpb24gdHJ5R2VtaW5pKHByb21wdDpzdHJpbmcpeyBjb25zdCBrZXk9cHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVk7IGlmKCFrZXkpIHJldHVybiBudWxsO1xuLy8gICB0cnl7IGNvbnN0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJIH0gPSBhd2FpdCBpbXBvcnQoXCJAZ29vZ2xlL2dlbmVyYXRpdmUtYWlcIik7IGNvbnN0IGdlbkFJPW5ldyBHb29nbGVHZW5lcmF0aXZlQUkoa2V5KTtcbi8vICAgICBjb25zdCBtb2RlbD1nZW5BSS5nZXRHZW5lcmF0aXZlTW9kZWwoe21vZGVsOlwiZ2VtaW5pLTEuNS1wcm9cIn0pOyBjb25zdCByZXNwPWF3YWl0IG1vZGVsLmdlbmVyYXRlQ29udGVudChwcm9tcHQpOyByZXR1cm4gcmVzcC5yZXNwb25zZS50ZXh0KCk7XG4vLyAgIH1jYXRjaChlKXsgY29uc29sZS5lcnJvcihcIkdlbWluaSBlcnJvclwiLGUpOyByZXR1cm4gbnVsbDsgfSB9XG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6TmV4dFJlcXVlc3QpeyBjb25zdCBib2R5PWF3YWl0IHJlcS5qc29uKCk7IGNvbnN0IHsgbWVzc2FnZXMsIHByb2ZpbGUgfSA9IGJvZHl8fHt9O1xuLy8gICBjb25zdCBsYXN0ID0gbWVzc2FnZXM/LlttZXNzYWdlcy5sZW5ndGgtMV0/LmNvbnRlbnQgfHwgXCJcIjtcbi8vICAgY29uc3QgdG9wID0gcmV0cmlldmUobGFzdCwgNik7IGNvbnN0IGxvY2FsID0gc3ludGhlc2l6ZUFuc3dlcihsYXN0LCBwcm9maWxlLCB0b3ApO1xuLy8gICBjb25zdCBnZW1pbmlQcm9tcHQgPSBgJHtsb2NhbH1cXG5cXG5SZXdyaXRlIHRoZSAnQW5zd2VyJyBzZWN0aW9uIG9ubHkgYXMgYSBjcmlzcCwgZnJpZW5kbHkgcmVzcG9uc2UuIEtlZXAgYnVsbGV0cy4gUGVyc29uYWxpemUgdG8gdGhlIHByb2ZpbGUuIEF2b2lkIHJlcGVhdGluZyB0aGUgJ0NvbnRleHQnIHRleHQuYDtcbi8vICAgY29uc3QgdXBncmFkZWQgPSBhd2FpdCB0cnlHZW1pbmkoZ2VtaW5pUHJvbXB0KTtcbi8vICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgYW5zd2VyOiB1cGdyYWRlZCB8fCBsb2NhbCB9KTtcbi8vIH0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicmV0cmlldmUiLCJzeW50aGVzaXplQW5zd2VyIiwidHJ5R2VtaW5pUG9saXNoIiwibG9jYWxUZXh0Iiwia2V5IiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9BUElfS0VZIiwiR29vZ2xlR2VuZXJhdGl2ZUFJIiwiZ2VuQUkiLCJtb2RlbCIsImdldEdlbmVyYXRpdmVNb2RlbCIsInJlc3AiLCJnZW5lcmF0ZUNvbnRlbnQiLCJ0ZXh0IiwicmVzcG9uc2UiLCJsZW5ndGgiLCJlIiwiY29uc29sZSIsIndhcm4iLCJtZXNzYWdlIiwiUE9TVCIsInJlcSIsImJvZHkiLCJqc29uIiwibWVzc2FnZXMiLCJwcm9maWxlIiwibGFzdCIsImNvbnRlbnQiLCJoaXRzIiwibG9jYWwiLCJwb2xpc2hlZCIsImFuc3dlciIsImVyciIsImVycm9yIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/rag.js":
/*!********************!*\
  !*** ./lib/rag.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadKnowledge: () => (/* binding */ loadKnowledge),\n/* harmony export */   retrieve: () => (/* binding */ retrieve),\n/* harmony export */   synthesizeAnswer: () => (/* binding */ synthesizeAnswer)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n// lib/rag.js\n// Lightweight local RAG + deterministic synthesizer for demo.\n// Uses files placed in /data/seeds/*.txt.\n// Optional: if GOOGLE_API_KEY present and @google/generative-ai installed,\n// the server will attempt to polish the generated answer (non-blocking).\n\n\nconst SEEDS_DIR = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"seeds\");\n// -------------------- utilities --------------------\nfunction splitIntoChunks(text) {\n    // Split on headings or into 1000-char chunks\n    const parts = text.split(/\\n\\s*---+\\s*\\n|(?:\\n#+\\s+)/).map((p)=>p.trim()).filter(Boolean);\n    const chunks = [];\n    for (const p of parts){\n        if (p.length <= 1000) chunks.push(p);\n        else for(let i = 0; i < p.length; i += 1000)chunks.push(p.slice(i, i + 1000));\n    }\n    return chunks;\n}\nfunction score(query, chunk) {\n    // Very simple keyword scoring (works well for demo)\n    const q = query.toLowerCase();\n    let s = 0;\n    for (const token of q.split(/[^a-z0-9]+/).filter(Boolean)){\n        if (new RegExp(`\\\\b${token}\\\\b`, \"i\").test(chunk)) s += 3;\n        if (chunk.toLowerCase().includes(token)) s += 1;\n    }\n    if (/^(\\s*)(AI|Data|Science|Career|Skill|Roadmap|Skill Trends)/i.test(chunk)) s += 1.5;\n    return s;\n}\n// -------------------- load knowledge --------------------\nlet MEMO = null;\nfunction loadKnowledge() {\n    if (MEMO) return MEMO;\n    const files = fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(SEEDS_DIR) ? fs__WEBPACK_IMPORTED_MODULE_0___default().readdirSync(SEEDS_DIR).filter((f)=>f.endsWith(\".txt\")) : [];\n    const docs = [];\n    for (const f of files){\n        const text = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(path__WEBPACK_IMPORTED_MODULE_1___default().join(SEEDS_DIR, f), \"utf8\");\n        const chunks = splitIntoChunks(text);\n        for(let i = 0; i < chunks.length; i++)docs.push({\n            id: `${f}:${i}`,\n            text: chunks[i]\n        });\n    }\n    MEMO = docs;\n    return docs;\n}\n// -------------------- retrieval --------------------\nfunction retrieve(query, k = 6) {\n    const docs = loadKnowledge();\n    if (!docs || docs.length === 0) return []; // empty array fallback\n    const ranked = docs.map((d)=>({\n            d,\n            s: score(query, d.text)\n        })).sort((a, b)=>b.s - a.s).slice(0, k).map((x)=>x.d);\n    return ranked;\n}\n// -------------------- small helpers for content extraction --------------------\nfunction topKeywordsFromHits(hits, max = 6) {\n    const text = hits.map((h)=>h.text).join(\" \").toLowerCase();\n    const tokens = text.match(/\\b[a-z]{3,}\\b/g) || [];\n    const freq = {};\n    tokens.forEach((t)=>freq[t] = (freq[t] || 0) + 1);\n    // prefer known skill tokens\n    const common = [\n        \"python\",\n        \"sql\",\n        \"machine\",\n        \"data\",\n        \"ml\",\n        \"statistics\",\n        \"matlab\",\n        \"r\",\n        \"cloud\",\n        \"aws\",\n        \"azure\",\n        \"docker\",\n        \"git\",\n        \"javascript\",\n        \"react\",\n        \"cad\",\n        \"staa\",\n        \"design\",\n        \"ux\",\n        \"deep\",\n        \"neural\",\n        \"nlp\"\n    ].filter(Boolean);\n    const candidates = Object.keys(freq).sort((a, b)=>freq[b] - freq[a]);\n    const picks = [];\n    for (const c of [\n        ...common,\n        ...candidates\n    ]){\n        if (picks.length >= max) break;\n        if (text.includes(c) && !picks.includes(c)) picks.push(c);\n    }\n    return picks.map((p)=>p[0].toUpperCase() + p.slice(1));\n}\n// -------------------- 12-week plan generator --------------------\nfunction generate12WeekPlan(profile) {\n    const interest = (profile?.interest || \"General\").toLowerCase();\n    const level = (profile?.level || \"beginner\").toLowerCase();\n    const weeks = [];\n    // baseline modules\n    if (interest.includes(\"data\") || interest.includes(\"ai\") || interest.includes(\"ml\")) {\n        // data/ai plan\n        if (level === \"beginner\") {\n            weeks.push(\"Weeks 1-2: Revise math fundamentals (basic probability, linear algebra) and NCERT science concepts.\");\n            weeks.push(\"Weeks 3-4: Learn Python basics (syntax, data types, loops, functions).\");\n            weeks.push(\"Weeks 5-6: Intro to data handling (Pandas) + SQL basics; small data cleaning tasks.\");\n            weeks.push(\"Weeks 7-8: Learn core ML concepts (supervised learning) and try sklearn models on a simple dataset.\");\n            weeks.push(\"Weeks 9-10: Build mini project: classification pipeline + write a short report.\");\n            weeks.push(\"Weeks 11-12: Prepare portfolio entry; take an introductory online course/cert (Coursera/NPTEL) and document learnings.\");\n        } else {\n            weeks.push(\"Weeks 1-2: Quick refresh of advanced math/statistics topics relevant to ML.\");\n            weeks.push(\"Weeks 3-4: Intermediate Python + data libraries (NumPy, Pandas) and SQL for analytics.\");\n            weeks.push(\"Weeks 5-6: Study ML algorithms (trees, SVM, neural nets) and implement examples.\");\n            weeks.push(\"Weeks 7-8: Hands-on deep learning intro (TensorFlow/PyTorch basics).\");\n            weeks.push(\"Weeks 9-10: Capstone project (end-to-end) and create visuals for results.\");\n            weeks.push(\"Weeks 11-12: Prepare portfolio & apply for internships; take one certification.\");\n        }\n    } else if (interest.includes(\"design\") || interest.includes(\"ui\") || interest.includes(\"ux\")) {\n        weeks.push(\"Weeks 1-2: Fundamentals of design, user research basics.\");\n        weeks.push(\"Weeks 3-4: Wireframing & prototyping tools (Figma basics).\");\n        weeks.push(\"Weeks 5-6: Interaction design & small usability study.\");\n        weeks.push(\"Weeks 7-8: Build a small product prototype and test.\");\n        weeks.push(\"Weeks 9-10: Polish portfolio piece, document process.\");\n        weeks.push(\"Weeks 11-12: Publish portfolio and apply to internships/junior roles.\");\n    } else {\n        // general STEM / scientist plan\n        weeks.push(\"Weeks 1-2: Strengthen core science fundamentals relevant to your stream.\");\n        weeks.push(\"Weeks 3-4: Learn data analysis basics (Excel/Google Sheets) and basic Python.\");\n        weeks.push(\"Weeks 5-6: Design a mini experiment or data study around your interest.\");\n        weeks.push(\"Weeks 7-8: Work on results & write a report; learn literature search basics.\");\n        weeks.push(\"Weeks 9-10: Take an introductory certification (NPTEL/Coursera) related to your field.\");\n        weeks.push(\"Weeks 11-12: Prepare presentation/portfolio; seek mentorship/internship opportunities.\");\n    }\n    // if shorter than 12 weeks, expand by splitting groups into weeks\n    while(weeks.length < 6)weeks.push(\"Self-study and consolidation.\");\n    return weeks;\n}\n// -------------------- synthesize answer (deterministic local) --------------------\nfunction synthesizeAnswer(query, profile = {}, hits = []) {\n    // If hits is not array, coerce\n    hits = Array.isArray(hits) ? hits : [];\n    // 1) Short career summary: use profile + hits\n    const namePart = profile?.name ? `${profile.name}, ` : \"\";\n    const interest = profile?.interest || \"your chosen field\";\n    const summary = `${namePart}based on your interest in ${interest} and level (${profile?.level || \"beginner\"}), here is a concise plan and skills to focus on.`;\n    // 2) Top recommended skills/certs (heuristic)\n    let skills = topKeywordsFromHits(hits, 5);\n    if (skills.length === 0) {\n        // fallback by interest\n        const intLower = interest.toLowerCase();\n        if (intLower.includes(\"data\") || intLower.includes(\"ai\") || intLower.includes(\"ml\")) {\n            skills = [\n                \"Python\",\n                \"SQL\",\n                \"Statistics\",\n                \"Machine Learning\",\n                \"Data Visualization\"\n            ];\n        } else if (intLower.includes(\"design\")) {\n            skills = [\n                \"Design Thinking\",\n                \"Figma\",\n                \"Wireframing\",\n                \"Prototyping\",\n                \"User Research\"\n            ];\n        } else {\n            skills = [\n                \"Core Subject Mastery\",\n                \"Basic Data Skills\",\n                \"Research & Documentation\"\n            ];\n        }\n    }\n    // 3) Short step-by-step next steps (generic)\n    const steps = [\n        \"Strengthen your theory/fundamentals (NCERT / course-specific basics).\",\n        \"Learn one practical tool/tech (e.g., Python for data or Figma for design).\",\n        \"Build a small, demonstrable project (document results).\",\n        \"Take one recognized course/certification and publish your work.\"\n    ];\n    // 4) Two sample projects - tailored by interest\n    let projects = [];\n    const intLower = interest.toLowerCase();\n    if (intLower.includes(\"data\") || intLower.includes(\"ai\") || intLower.includes(\"ml\")) {\n        projects = [\n            \"Project 1 â€” Classify a dataset (end-to-end): Data cleaning â†’ model â†’ evaluation â†’ write-up.\",\n            \"Project 2 â€” Data visualization report on a public dataset (publish on GitHub).\"\n        ];\n    } else if (intLower.includes(\"design\")) {\n        projects = [\n            \"Project 1 â€” Complete a 2-week UX case study: research â†’ wireframes â†’ prototype.\",\n            \"Project 2 â€” Redesign a small app page and document UX decisions.\"\n        ];\n    } else {\n        projects = [\n            \"Project 1 â€” Conduct a small experiment or study and write the results.\",\n            \"Project 2 â€” Create a presentation/summary of learnings and share it publicly.\"\n        ];\n    }\n    // 5) If the user asked for a 12-week plan, generate it\n    const want12Week = /\\b(12[- ]?week|twelve week|12 week plan|create a 12 week plan)\\b/i.test(query);\n    const planSection = want12Week ? generate12WeekPlan(profile).map((p, idx)=>`Week block ${idx + 1}: ${p}`) : [];\n    // 6) Build final structured string\n    const out = [\n        `Summary: ${summary}`,\n        \"\",\n        \"Recommended skills & certifications:\",\n        ...skills.map((s)=>`- ${s}`),\n        \"\",\n        \"Next Steps:\",\n        ...steps.map((s)=>`- ${s}`),\n        \"\",\n        \"Sample Projects:\",\n        ...projects.map((p, i)=>`${i + 1}. ${p}`),\n        \"\",\n        ...planSection.length ? [\n            \"12-week plan:\",\n            ...planSection,\n            \"\"\n        ] : [],\n        \"Motivation: Take small consistent steps â€” progress compounds faster than you think!\"\n    ];\n    return out.join(\"\\n\");\n} // import { RecursiveCharacterTextSplitter } from \"langchain/text_splitter\";\n // import { MemoryVectorStore } from \"langchain/vectorstores/memory\";\n // import { Document } from \"langchain/document\";\n // import fs from \"fs\";\n // import path from \"path\";\n // import { GoogleGenerativeAIEmbeddings, ChatGoogleGenerativeAI } from \"@langchain/google-genai\";\n // let store;\n // export async function initStore() {\n //   if (store) return store;\n //   const apiKey = process.env.GOOGLE_API_KEY;\n //   if (!apiKey) {\n //     console.warn(\"âš ï¸ GOOGLE_API_KEY missing, using mock vector store\");\n //     // âœ… Return fake store with similaritySearch fallback\n //     return {\n //       similaritySearch: async () => [\n //         new Document({ pageContent: \"1. Learn basics of Python, SQL\" }),\n //         new Document({ pageContent: \"2. Specialize in AI/ML or Data Science\" }),\n //         new Document({ pageContent: \"3. Earn certifications (Coursera, AWS, Azure)\" }),\n //         new Document({ pageContent: \"4. Apply for internships & entry-level roles\" }),\n //       ],\n //     };\n //   }\n //   // âœ… Load your dataset\n //   const datasetPath = path.join(process.cwd(), \"public\", \"dataset_career_path.txt\");\n //   const rawText = fs.readFileSync(datasetPath, \"utf8\");\n //   const splitter = new RecursiveCharacterTextSplitter({ chunkSize: 500, chunkOverlap: 50 });\n //   const docs = await splitter.splitDocuments([new Document({ pageContent: rawText })]);\n //   const embeddings = new GoogleGenerativeAIEmbeddings({ apiKey });\n //   store = await MemoryVectorStore.fromDocuments(docs, embeddings);\n //   return store;\n // }\n // export async function retrieve(query) {\n //   const store = await initStore();\n //   return store.similaritySearch(query, 4);\n // }\n // // ðŸ”¹ Generate\n // export async function synthesizeAnswer(query, docs) {\n //   const llm = new ChatGoogleGenerativeAI({\n //     apiKey: process.env.GOOGLE_API_KEY,\n //     model: \"gemini-pro\",\n //     temperature: 0.4,\n //   });\n //   const context = docs.map((d) => d.pageContent).join(\"\\n\\n\");\n //   const prompt = new PromptTemplate({\n //     template: `\n // You are AI 360 Career Bot. \n // Provide a clear, actionable career guidance response.\n // Context:\n // {context}\n // Question:\n // {question}\n // Answer:\n // - Summarize main path.\n // - List 3â€“4 essential skills/certs.\n // - Suggest 2 mini projects.\n //     `,\n //     inputVariables: [\"context\", \"question\"],\n //   });\n //   const input = await prompt.format({ context, question: query });\n //   const response = await llm.invoke(input);\n //   return response.content || response.text || \"Sorry, I could not generate a response.\";\n // }\n // import fs from \"fs\";\n // import path from \"path\";\n // import { GoogleGenerativeAIEmbeddings, ChatGoogleGenerativeAI } from \"@langchain/google-genai\";\n // import { RecursiveCharacterTextSplitter } from \"langchain/text_splitter\";\n // import { PromptTemplate } from \"@langchain/core/prompts\";\n // import { MemoryVectorStore } from \"langchain/vectorstores/memory\";\n // // Initialize vector store\n // let vectorStore;\n // async function initStore() {\n //   if (!vectorStore) {\n //     const apiKey = process.env.GOOGLE_API_KEY;\n //     if (!apiKey) {\n //       // throw new Error(\"âŒ GOOGLE_API_KEY is not set. Please add it to .env.local and restart.\");\n //       console.warn(\"âš ï¸ GOOGLE_API_KEY missing, using mock response...\");\n //     return `\n // 1. Learn Python + SQL basics  \n // 2. Move into Data Science or ML specialization  \n // 3. Do certifications (Coursera, AWS, Azure)  \n // 4. Apply for internships & entry-level jobs  \n //     `;\n //     }\n //     const embeddings = new GoogleGenerativeAIEmbeddings({\n //       apiKey,\n //       model: \"gemini-pro\",\n //     });\n //     vectorStore = new MemoryVectorStore(embeddings);\n //     // preload dataset\n //     const datasetPath = path.join(process.cwd(), \"data\", \"dataset_career_path.txt\");\n //     if (fs.existsSync(datasetPath)) {\n //       const text = fs.readFileSync(datasetPath, \"utf8\");\n //       const splitter = new RecursiveCharacterTextSplitter({ chunkSize: 500, chunkOverlap: 50 });\n //       const docs = await splitter.createDocuments([text]);\n //       await vectorStore.addDocuments(docs);\n //     }\n //   }\n //   return vectorStore;\n // }\n // // ðŸ”¹ Retrieve\n // export async function retrieve(query) {\n //   const store = await initStore();\n //   return store.similaritySearch(query, 4);\n // }\n // // ðŸ”¹ Generate\n // export async function synthesizeAnswer(query, docs) {\n //   const llm = new ChatGoogleGenerativeAI({\n //     apiKey: process.env.GOOGLE_API_KEY,\n //     model: \"gemini-pro\",\n //     temperature: 0.4,\n //   });\n //   const context = docs.map((d) => d.pageContent).join(\"\\n\\n\");\n //   const prompt = new PromptTemplate({\n //     template: `\n // You are AI 360 Career Bot. \n // Provide a clear, actionable career guidance response.\n // Context:\n // {context}\n // Question:\n // {question}\n // Answer:\n // - Summarize main path.\n // - List 3â€“4 essential skills/certs.\n // - Suggest 2 mini projects.\n //     `,\n //     inputVariables: [\"context\", \"question\"],\n //   });\n //   const input = await prompt.format({ context, question: query });\n //   const response = await llm.invoke(input);\n //   return response.content || response.text || \"Sorry, I could not generate a response.\";\n // }\n // import fs from \"fs\";\n // import path from \"path\";\n // import { GoogleGenerativeAIEmbeddings, ChatGoogleGenerativeAI } from \"@langchain/google-genai\";\n // import { RecursiveCharacterTextSplitter } from \"langchain/text_splitter\";\n // import { PromptTemplate } from \"@langchain/core/prompts\";\n // import { MemoryVectorStore } from \"langchain/vectorstores/memory\";\n // // Create memory store once\n // const storePath = path.join(process.cwd(), \"data/memory_store.json\");\n // // Load or init memory\n // let vectorStore;\n // async function initStore() {\n //   if (!vectorStore) {\n //     const embeddings = new GoogleGenerativeAIEmbeddings({\n //       apiKey: process.env.GOOGLE_API_KEY,\n //       model: \"embedding-001\",\n //     });\n //     vectorStore = new MemoryVectorStore(embeddings);\n //     // preload dataset if available\n //     const datasetPath = path.join(process.cwd(), \"data\", \"dataset_career_path.txt\");\n //     if (fs.existsSync(datasetPath)) {\n //       const text = fs.readFileSync(datasetPath, \"utf8\");\n //       const splitter = new RecursiveCharacterTextSplitter({ chunkSize: 500, chunkOverlap: 50 });\n //       const docs = await splitter.createDocuments([text]);\n //       await vectorStore.addDocuments(docs);\n //     }\n //   }\n //   return vectorStore;\n // }\n // // ðŸ”¹ Retrieve relevant docs\n // export async function retrieve(query) {\n //   const store = await initStore();\n //   return store.similaritySearch(query, 4);\n // }\n // // ðŸ”¹ Synthesize final answer\n // export async function synthesizeAnswer(query, docs) {\n //   const llm = new ChatGoogleGenerativeAI({\n //     apiKey: process.env.GOOGLE_API_KEY,\n //     model: \"gemini-pro\",\n //     temperature: 0.4,\n //   });\n //   const context = docs.map((d) => d.pageContent).join(\"\\n\\n\");\n //   const prompt = new PromptTemplate({\n //     template: `\n // You are AI 360 Career Bot. \n // Use the context below to answer the question.\n // Context:\n // {context}\n // Question:\n // {question}\n // Answer in clear, actionable career guidance steps.\n //     `,\n //     inputVariables: [\"context\", \"question\"],\n //   });\n //   const input = await prompt.format({ context, question: query });\n //   const response = await llm.invoke(input);\n //   return response.content || response.text || \"Sorry, I could not generate a response.\";\n // }\n // import fs from \"fs\";\n // import path from \"path\";\n // // import { GoogleGenerativeAIEmbeddings, ChatGoogleGenerativeAI } from \"@langchain/google-genai\";\n // // import { GoogleGenerativeAIEmbeddings, ChatGoogleGenerativeAI } from \"langchain/google-genai\";\n // // import { RecursiveCharacterTextSplitter } from \"langchain/text_splitter\";\n // // import { PromptTemplate } from \"@langchain/core/prompts\";\n // // import { MemoryVectorStore } from \"langchain/vectorstores/memory\";\n // import { GoogleGenerativeAIEmbeddings, ChatGoogleGenerativeAI } from \"@langchain/google-genai\";\n // import { RecursiveCharacterTextSplitter } from \"langchain/text_splitter\";\n // import { PromptTemplate } from \"@langchain/core/prompts\";\n // import { MemoryVectorStore } from \"langchain/vectorstores/memory\";\n // const INDEX_FILE = path.join(process.cwd(), \"data\", \"index\", \"memory_store.json\");\n // // Embeddings + LLM\n // const EMBEDDINGS = new GoogleGenerativeAIEmbeddings({\n //   apiKey: process.env.GEMINI_API_KEY,\n //   model: \"text-embedding-004\",\n // });\n // const LLM = new ChatGoogleGenerativeAI({\n //   apiKey: process.env.GEMINI_API_KEY,\n //   model: \"gemini-1.5-pro\",\n //   temperature: 0.3,\n //   maxOutputTokens: 1024,\n // });\n // // ðŸ”¹ System prompt ensures structured, user-friendly answers\n // const SYSTEM_PROMPT = `\n // You are AI 360 Career Assistant.\n // Your job: give clear, structured, motivating career advice.\n // Rules:\n // - DO NOT dump raw text from sources.\n // - Summarize insights into easy-to-read guidance.\n // - Use bullet points for skills, certifications, and steps.\n // - If asked for a plan, give a week-by-week roadmap.\n // - Always end with 1 motivational line.\n // `;\n // const QA_TEMPLATE = PromptTemplate.fromTemplate(`\n // {system}\n // User Profile:\n // - Name: {name}\n // - Class/Standard: {standard}\n // - Interest: {interest}\n // - Level: {level}\n // - Goal: {goal}\n // Retrieved Knowledge Base Context:\n // {context}\n // User Question:\n // {question}\n // Now respond with:\n // 1. Short Career Summary (2â€“3 lines)\n // 2. Recommended Skills & Certifications\n // 3. Step-by-Step Career Roadmap\n // 4. 2 Sample Projects (mini or capstone)\n // 5. Motivational Closing (1 line)\n // `);\n // export class RAGEngine {\n //   constructor() {\n //     this.vectorStore = null;\n //   }\n //   async loadOrCreateStore() {\n //     if (this.vectorStore) return;\n //     try {\n //       if (fs.existsSync(INDEX_FILE)) {\n //         const raw = fs.readFileSync(INDEX_FILE, \"utf-8\");\n //         const docs = JSON.parse(raw);\n //         this.vectorStore = await MemoryVectorStore.fromDocuments(docs, EMBEDDINGS);\n //       } else {\n //         this.vectorStore = new MemoryVectorStore(EMBEDDINGS);\n //         this.saveStore();\n //       }\n //     } catch (e) {\n //       console.error(\"âš ï¸ Error loading store:\", e);\n //       this.vectorStore = new MemoryVectorStore(EMBEDDINGS);\n //     }\n //   }\n //   saveStore() {\n //     if (!this.vectorStore) return;\n //     const data = this.vectorStore.memoryVectors || [];\n //     fs.mkdirSync(path.dirname(INDEX_FILE), { recursive: true });\n //     fs.writeFileSync(INDEX_FILE, JSON.stringify(data, null, 2), \"utf-8\");\n //   }\n //   async ingestRawText(text, metadata = {}) {\n //     await this.loadOrCreateStore();\n //     const splitter = new RecursiveCharacterTextSplitter({ chunkSize: 1000, chunkOverlap: 200 });\n //     const docs = await splitter.createDocuments([text], [metadata]);\n //     await this.vectorStore.addDocuments(docs);\n //     this.saveStore();\n //     return { added: docs.length };\n //   }\n //   async retrieveContext(query, k = 4) {\n //     await this.loadOrCreateStore();\n //     const retriever = this.vectorStore.asRetriever(k);\n //     const docs = await retriever.getRelevantDocuments(query);\n //     return docs.map((d) => d.pageContent).join(\"\\n\\n\");\n //   }\n //   async answer(profile, question) {\n //     await this.loadOrCreateStore();\n //     const context = await this.retrieveContext(question);\n //     const prompt = await QA_TEMPLATE.format({\n //       system: SYSTEM_PROMPT,\n //       context,\n //       question,\n //       ...profile, // includes {name, standard, interest, level, goal}\n //     });\n //     const response = await LLM.invoke(prompt);\n //     return response.content?.[0]?.text || response.text || String(response);\n //   }\n // }\n // export const rag = new RAGEngine();\n // import fs from \"fs\"; import path from \"path\";\n // const DATA_DIR=path.join(process.cwd(),\"data\",\"seeds\");\n // function splitIntoChunks(text){\n //   const parts=text.split(/\\n\\s*---+\\s*\\n|\\n# /g).map(p=>p.trim()).filter(Boolean);\n //   const chunks=[]; for(const p of parts){ if(p.length<=1200){chunks.push(p);} else{ for(let i=0;i<p.length;i+=1200){chunks.push(p.slice(i,i+1200));}}} return chunks;\n // }\n // function score(query,chunk){ const q=query.toLowerCase(); let s=0;\n //   for(const token of q.split(/[^a-z0-9+]+/g)){ if(!token)continue; const re=new RegExp(`\\\\b${token.replace(/[.*+?^${}()|[\\\\]\\\\]/g,'\\\\$&')}\\\\b`,\"i\"); if(re.test(chunk)) s+=2; if(chunk.toLowerCase().includes(token)) s+=1; }\n //   if(/^\\s*(AI|Data|Cloud|Cyber|Software|Design|Commerce|Medical|Law|Career)/i.test(chunk)) s+=1.5;\n //   return s;\n // }\n // export function loadKnowledge(){ const files=fs.readdirSync(DATA_DIR).filter(f=>f.endsWith(\".txt\")); const docs=[];\n //   for(const f of files){ const text=fs.readFileSync(path.join(DATA_DIR,f),\"utf-8\"); const chunks=splitIntoChunks(text).map((c,i)=>({id:`${f}:${i}`,text:c})); docs.push(...chunks);} return docs; }\n // const MEMO={docs:null}; export function getDocs(){ if(!MEMO.docs) MEMO.docs=loadKnowledge(); return MEMO.docs; }\n // export function retrieve(query,k=6){ const docs=getDocs(); const ranked=docs.map(d=>({d,s:score(query,d.text)})).sort((a,b)=>b.s-a.s).slice(0,k).map(x=>x.d); return ranked; }\n // export function synthesizeAnswer(query,profile,hits){\n //   const header=profile?.name?`For ${profile.name} (${profile.standard}, interest: ${profile.interest}, level: ${profile.level})\\n\\n`:\"\";\n //   const context=hits.map(h=>`â€¢ ${h.text.replace(/\\n+/g,' ').slice(0,300)}...`).join(\"\\n\");\n //   const promptLike=[`Question: ${query}`,`Context (snippets):\\n${context}`,`Guidelines: Provide a concise, actionable answer with steps, recommended skills/certs, and 2 sample projects. Align with the user's level and goal if provided.`].join(\"\\n\\n\");\n //   const steps=[\"Start with foundations (core subjects & terminology).\",\"Build practical skills via a short project.\",\"Earn one reputed certification relevant to your track.\",\"Join a community; apply for internships or challenges.\"].join(\"\\n- \");\n //   const rec=hits[0]?.text?.slice(0,200)||\"\";\n //   return `${header}${promptLike}\\n\\nAnswer:\\n- ${steps}\\n\\nBased on the context, focus on: ${rec}...\\n\\nSample projects:\\n1) Mini capstone aligned to your interest (document outcomes).\\n2) Portfolio piece (publish on GitHub/Behance).\\n\\nYou can ask follow-ups like: \"Which cert first?\" or \"Create a 12-week plan.\"`;\n // }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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akQsK0VBQStFO0NBQy9FLE1BQU07Q0FDTixJQUFJO0NBRUosc0NBQXNDO0NBbUJ0QyxnREFBZ0Q7Q0FDaEQsMERBQTBEO0NBQzFELGtDQUFrQztDQUNsQyxxRkFBcUY7Q0FDckYsd0tBQXdLO0NBQ3hLLElBQUk7Q0FDSixxRUFBcUU7Q0FDckUsZ09BQWdPO0NBQ2hPLHFHQUFxRztDQUNyRyxjQUFjO0NBQ2QsSUFBSTtDQUNKLHNIQUFzSDtDQUN0SCxzTUFBc007Q0FDdE0sbUhBQW1IO0NBQ25ILGlMQUFpTDtDQUNqTCx3REFBd0Q7Q0FDeEQsMklBQTJJO0NBQzNJLDZGQUE2RjtDQUM3Riw4UEFBOFA7Q0FDOVAsd1BBQXdQO0NBQ3hQLCtDQUErQztDQUMvQyw4VEFBOFQ7Q0FDOVQsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpMzYwLWNhcmVlci1kZW1vLy4vbGliL3JhZy5qcz9jOTQ4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxpYi9yYWcuanNcbi8vIExpZ2h0d2VpZ2h0IGxvY2FsIFJBRyArIGRldGVybWluaXN0aWMgc3ludGhlc2l6ZXIgZm9yIGRlbW8uXG4vLyBVc2VzIGZpbGVzIHBsYWNlZCBpbiAvZGF0YS9zZWVkcy8qLnR4dC5cbi8vIE9wdGlvbmFsOiBpZiBHT09HTEVfQVBJX0tFWSBwcmVzZW50IGFuZCBAZ29vZ2xlL2dlbmVyYXRpdmUtYWkgaW5zdGFsbGVkLFxuLy8gdGhlIHNlcnZlciB3aWxsIGF0dGVtcHQgdG8gcG9saXNoIHRoZSBnZW5lcmF0ZWQgYW5zd2VyIChub24tYmxvY2tpbmcpLlxuXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG5jb25zdCBTRUVEU19ESVIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJkYXRhXCIsIFwic2VlZHNcIik7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tIHV0aWxpdGllcyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gc3BsaXRJbnRvQ2h1bmtzKHRleHQpIHtcbiAgLy8gU3BsaXQgb24gaGVhZGluZ3Mgb3IgaW50byAxMDAwLWNoYXIgY2h1bmtzXG4gIGNvbnN0IHBhcnRzID0gdGV4dC5zcGxpdCgvXFxuXFxzKi0tLStcXHMqXFxufCg/OlxcbiMrXFxzKykvKS5tYXAoKHApID0+IHAudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XG4gIGNvbnN0IGNodW5rcyA9IFtdO1xuICBmb3IgKGNvbnN0IHAgb2YgcGFydHMpIHtcbiAgICBpZiAocC5sZW5ndGggPD0gMTAwMCkgY2h1bmtzLnB1c2gocCk7XG4gICAgZWxzZSBmb3IgKGxldCBpID0gMDsgaSA8IHAubGVuZ3RoOyBpICs9IDEwMDApIGNodW5rcy5wdXNoKHAuc2xpY2UoaSwgaSArIDEwMDApKTtcbiAgfVxuICByZXR1cm4gY2h1bmtzO1xufVxuXG5mdW5jdGlvbiBzY29yZShxdWVyeSwgY2h1bmspIHtcbiAgLy8gVmVyeSBzaW1wbGUga2V5d29yZCBzY29yaW5nICh3b3JrcyB3ZWxsIGZvciBkZW1vKVxuICBjb25zdCBxID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgbGV0IHMgPSAwO1xuICBmb3IgKGNvbnN0IHRva2VuIG9mIHEuc3BsaXQoL1teYS16MC05XSsvKS5maWx0ZXIoQm9vbGVhbikpIHtcbiAgICBpZiAobmV3IFJlZ0V4cChgXFxcXGIke3Rva2VufVxcXFxiYCwgXCJpXCIpLnRlc3QoY2h1bmspKSBzICs9IDM7XG4gICAgaWYgKGNodW5rLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModG9rZW4pKSBzICs9IDE7XG4gIH1cbiAgaWYgKC9eKFxccyopKEFJfERhdGF8U2NpZW5jZXxDYXJlZXJ8U2tpbGx8Um9hZG1hcHxTa2lsbCBUcmVuZHMpL2kudGVzdChjaHVuaykpIHMgKz0gMS41O1xuICByZXR1cm4gcztcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0gbG9hZCBrbm93bGVkZ2UgLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmxldCBNRU1PID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBsb2FkS25vd2xlZGdlKCkge1xuICBpZiAoTUVNTykgcmV0dXJuIE1FTU87XG4gIGNvbnN0IGZpbGVzID0gZnMuZXhpc3RzU3luYyhTRUVEU19ESVIpID8gZnMucmVhZGRpclN5bmMoU0VFRFNfRElSKS5maWx0ZXIoKGYpID0+IGYuZW5kc1dpdGgoXCIudHh0XCIpKSA6IFtdO1xuICBjb25zdCBkb2NzID0gW107XG4gIGZvciAoY29uc3QgZiBvZiBmaWxlcykge1xuICAgIGNvbnN0IHRleHQgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKFNFRURTX0RJUiwgZiksIFwidXRmOFwiKTtcbiAgICBjb25zdCBjaHVua3MgPSBzcGxpdEludG9DaHVua3ModGV4dCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVua3MubGVuZ3RoOyBpKyspIGRvY3MucHVzaCh7IGlkOiBgJHtmfToke2l9YCwgdGV4dDogY2h1bmtzW2ldIH0pO1xuICB9XG4gIE1FTU8gPSBkb2NzO1xuICByZXR1cm4gZG9jcztcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0gcmV0cmlldmFsIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgZnVuY3Rpb24gcmV0cmlldmUocXVlcnksIGsgPSA2KSB7XG4gIGNvbnN0IGRvY3MgPSBsb2FkS25vd2xlZGdlKCk7XG4gIGlmICghZG9jcyB8fCBkb2NzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdOyAvLyBlbXB0eSBhcnJheSBmYWxsYmFja1xuICBjb25zdCByYW5rZWQgPSBkb2NzLm1hcCgoZCkgPT4gKHsgZCwgczogc2NvcmUocXVlcnksIGQudGV4dCkgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIucyAtIGEucylcbiAgICAuc2xpY2UoMCwgaylcbiAgICAubWFwKCh4KSA9PiB4LmQpO1xuICByZXR1cm4gcmFua2VkO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLSBzbWFsbCBoZWxwZXJzIGZvciBjb250ZW50IGV4dHJhY3Rpb24gLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIHRvcEtleXdvcmRzRnJvbUhpdHMoaGl0cywgbWF4ID0gNikge1xuICBjb25zdCB0ZXh0ID0gaGl0cy5tYXAoaCA9PiBoLnRleHQpLmpvaW4oXCIgXCIpLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IHRva2VucyA9IHRleHQubWF0Y2goL1xcYlthLXpdezMsfVxcYi9nKSB8fCBbXTtcbiAgY29uc3QgZnJlcSA9IHt9O1xuICB0b2tlbnMuZm9yRWFjaCh0ID0+IGZyZXFbdF0gPSAoZnJlcVt0XXx8MCkrMSk7XG4gIC8vIHByZWZlciBrbm93biBza2lsbCB0b2tlbnNcbiAgY29uc3QgY29tbW9uID0gW1wicHl0aG9uXCIsXCJzcWxcIixcIm1hY2hpbmVcIixcImRhdGFcIixcIm1sXCIsXCJzdGF0aXN0aWNzXCIsXCJtYXRsYWJcIixcInJcIixcImNsb3VkXCIsXCJhd3NcIixcImF6dXJlXCIsXCJkb2NrZXJcIixcImdpdFwiLFwiamF2YXNjcmlwdFwiLFwicmVhY3RcIixcImNhZFwiLFwic3RhYVwiLFwiZGVzaWduXCIsXCJ1eFwiLFwiZGVlcFwiLFwibmV1cmFsXCIsXCJubHBcIl0uZmlsdGVyKEJvb2xlYW4pO1xuICBjb25zdCBjYW5kaWRhdGVzID0gT2JqZWN0LmtleXMoZnJlcSkuc29ydCgoYSxiKT0+ZnJlcVtiXS1mcmVxW2FdKTtcbiAgY29uc3QgcGlja3MgPSBbXTtcbiAgZm9yIChjb25zdCBjIG9mIFsuLi5jb21tb24sIC4uLmNhbmRpZGF0ZXNdKSB7XG4gICAgaWYgKHBpY2tzLmxlbmd0aCA+PSBtYXgpIGJyZWFrO1xuICAgIGlmICh0ZXh0LmluY2x1ZGVzKGMpICYmICFwaWNrcy5pbmNsdWRlcyhjKSkgcGlja3MucHVzaChjKTtcbiAgfVxuICByZXR1cm4gcGlja3MubWFwKHAgPT4gKHBbMF0udG9VcHBlckNhc2UoKStwLnNsaWNlKDEpKSk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tIDEyLXdlZWsgcGxhbiBnZW5lcmF0b3IgLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIGdlbmVyYXRlMTJXZWVrUGxhbihwcm9maWxlKSB7XG4gIGNvbnN0IGludGVyZXN0ID0gKHByb2ZpbGU/LmludGVyZXN0IHx8IFwiR2VuZXJhbFwiKS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBsZXZlbCA9IChwcm9maWxlPy5sZXZlbCB8fCBcImJlZ2lubmVyXCIpLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IHdlZWtzID0gW107XG4gIC8vIGJhc2VsaW5lIG1vZHVsZXNcbiAgaWYgKGludGVyZXN0LmluY2x1ZGVzKFwiZGF0YVwiKSB8fCBpbnRlcmVzdC5pbmNsdWRlcyhcImFpXCIpIHx8IGludGVyZXN0LmluY2x1ZGVzKFwibWxcIikpIHtcbiAgICAvLyBkYXRhL2FpIHBsYW5cbiAgICBpZiAobGV2ZWwgPT09IFwiYmVnaW5uZXJcIikge1xuICAgICAgd2Vla3MucHVzaChcIldlZWtzIDEtMjogUmV2aXNlIG1hdGggZnVuZGFtZW50YWxzIChiYXNpYyBwcm9iYWJpbGl0eSwgbGluZWFyIGFsZ2VicmEpIGFuZCBOQ0VSVCBzY2llbmNlIGNvbmNlcHRzLlwiKTtcbiAgICAgIHdlZWtzLnB1c2goXCJXZWVrcyAzLTQ6IExlYXJuIFB5dGhvbiBiYXNpY3MgKHN5bnRheCwgZGF0YSB0eXBlcywgbG9vcHMsIGZ1bmN0aW9ucykuXCIpO1xuICAgICAgd2Vla3MucHVzaChcIldlZWtzIDUtNjogSW50cm8gdG8gZGF0YSBoYW5kbGluZyAoUGFuZGFzKSArIFNRTCBiYXNpY3M7IHNtYWxsIGRhdGEgY2xlYW5pbmcgdGFza3MuXCIpO1xuICAgICAgd2Vla3MucHVzaChcIldlZWtzIDctODogTGVhcm4gY29yZSBNTCBjb25jZXB0cyAoc3VwZXJ2aXNlZCBsZWFybmluZykgYW5kIHRyeSBza2xlYXJuIG1vZGVscyBvbiBhIHNpbXBsZSBkYXRhc2V0LlwiKTtcbiAgICAgIHdlZWtzLnB1c2goXCJXZWVrcyA5LTEwOiBCdWlsZCBtaW5pIHByb2plY3Q6IGNsYXNzaWZpY2F0aW9uIHBpcGVsaW5lICsgd3JpdGUgYSBzaG9ydCByZXBvcnQuXCIpO1xuICAgICAgd2Vla3MucHVzaChcIldlZWtzIDExLTEyOiBQcmVwYXJlIHBvcnRmb2xpbyBlbnRyeTsgdGFrZSBhbiBpbnRyb2R1Y3Rvcnkgb25saW5lIGNvdXJzZS9jZXJ0IChDb3Vyc2VyYS9OUFRFTCkgYW5kIGRvY3VtZW50IGxlYXJuaW5ncy5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdlZWtzLnB1c2goXCJXZWVrcyAxLTI6IFF1aWNrIHJlZnJlc2ggb2YgYWR2YW5jZWQgbWF0aC9zdGF0aXN0aWNzIHRvcGljcyByZWxldmFudCB0byBNTC5cIik7XG4gICAgICB3ZWVrcy5wdXNoKFwiV2Vla3MgMy00OiBJbnRlcm1lZGlhdGUgUHl0aG9uICsgZGF0YSBsaWJyYXJpZXMgKE51bVB5LCBQYW5kYXMpIGFuZCBTUUwgZm9yIGFuYWx5dGljcy5cIik7XG4gICAgICB3ZWVrcy5wdXNoKFwiV2Vla3MgNS02OiBTdHVkeSBNTCBhbGdvcml0aG1zICh0cmVlcywgU1ZNLCBuZXVyYWwgbmV0cykgYW5kIGltcGxlbWVudCBleGFtcGxlcy5cIik7XG4gICAgICB3ZWVrcy5wdXNoKFwiV2Vla3MgNy04OiBIYW5kcy1vbiBkZWVwIGxlYXJuaW5nIGludHJvIChUZW5zb3JGbG93L1B5VG9yY2ggYmFzaWNzKS5cIik7XG4gICAgICB3ZWVrcy5wdXNoKFwiV2Vla3MgOS0xMDogQ2Fwc3RvbmUgcHJvamVjdCAoZW5kLXRvLWVuZCkgYW5kIGNyZWF0ZSB2aXN1YWxzIGZvciByZXN1bHRzLlwiKTtcbiAgICAgIHdlZWtzLnB1c2goXCJXZWVrcyAxMS0xMjogUHJlcGFyZSBwb3J0Zm9saW8gJiBhcHBseSBmb3IgaW50ZXJuc2hpcHM7IHRha2Ugb25lIGNlcnRpZmljYXRpb24uXCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpbnRlcmVzdC5pbmNsdWRlcyhcImRlc2lnblwiKSB8fCBpbnRlcmVzdC5pbmNsdWRlcyhcInVpXCIpIHx8IGludGVyZXN0LmluY2x1ZGVzKFwidXhcIikpIHtcbiAgICB3ZWVrcy5wdXNoKFwiV2Vla3MgMS0yOiBGdW5kYW1lbnRhbHMgb2YgZGVzaWduLCB1c2VyIHJlc2VhcmNoIGJhc2ljcy5cIik7XG4gICAgd2Vla3MucHVzaChcIldlZWtzIDMtNDogV2lyZWZyYW1pbmcgJiBwcm90b3R5cGluZyB0b29scyAoRmlnbWEgYmFzaWNzKS5cIik7XG4gICAgd2Vla3MucHVzaChcIldlZWtzIDUtNjogSW50ZXJhY3Rpb24gZGVzaWduICYgc21hbGwgdXNhYmlsaXR5IHN0dWR5LlwiKTtcbiAgICB3ZWVrcy5wdXNoKFwiV2Vla3MgNy04OiBCdWlsZCBhIHNtYWxsIHByb2R1Y3QgcHJvdG90eXBlIGFuZCB0ZXN0LlwiKTtcbiAgICB3ZWVrcy5wdXNoKFwiV2Vla3MgOS0xMDogUG9saXNoIHBvcnRmb2xpbyBwaWVjZSwgZG9jdW1lbnQgcHJvY2Vzcy5cIik7XG4gICAgd2Vla3MucHVzaChcIldlZWtzIDExLTEyOiBQdWJsaXNoIHBvcnRmb2xpbyBhbmQgYXBwbHkgdG8gaW50ZXJuc2hpcHMvanVuaW9yIHJvbGVzLlwiKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBnZW5lcmFsIFNURU0gLyBzY2llbnRpc3QgcGxhblxuICAgIHdlZWtzLnB1c2goXCJXZWVrcyAxLTI6IFN0cmVuZ3RoZW4gY29yZSBzY2llbmNlIGZ1bmRhbWVudGFscyByZWxldmFudCB0byB5b3VyIHN0cmVhbS5cIik7XG4gICAgd2Vla3MucHVzaChcIldlZWtzIDMtNDogTGVhcm4gZGF0YSBhbmFseXNpcyBiYXNpY3MgKEV4Y2VsL0dvb2dsZSBTaGVldHMpIGFuZCBiYXNpYyBQeXRob24uXCIpO1xuICAgIHdlZWtzLnB1c2goXCJXZWVrcyA1LTY6IERlc2lnbiBhIG1pbmkgZXhwZXJpbWVudCBvciBkYXRhIHN0dWR5IGFyb3VuZCB5b3VyIGludGVyZXN0LlwiKTtcbiAgICB3ZWVrcy5wdXNoKFwiV2Vla3MgNy04OiBXb3JrIG9uIHJlc3VsdHMgJiB3cml0ZSBhIHJlcG9ydDsgbGVhcm4gbGl0ZXJhdHVyZSBzZWFyY2ggYmFzaWNzLlwiKTtcbiAgICB3ZWVrcy5wdXNoKFwiV2Vla3MgOS0xMDogVGFrZSBhbiBpbnRyb2R1Y3RvcnkgY2VydGlmaWNhdGlvbiAoTlBURUwvQ291cnNlcmEpIHJlbGF0ZWQgdG8geW91ciBmaWVsZC5cIik7XG4gICAgd2Vla3MucHVzaChcIldlZWtzIDExLTEyOiBQcmVwYXJlIHByZXNlbnRhdGlvbi9wb3J0Zm9saW87IHNlZWsgbWVudG9yc2hpcC9pbnRlcm5zaGlwIG9wcG9ydHVuaXRpZXMuXCIpO1xuICB9XG4gIC8vIGlmIHNob3J0ZXIgdGhhbiAxMiB3ZWVrcywgZXhwYW5kIGJ5IHNwbGl0dGluZyBncm91cHMgaW50byB3ZWVrc1xuICB3aGlsZSAod2Vla3MubGVuZ3RoIDwgNikgd2Vla3MucHVzaChcIlNlbGYtc3R1ZHkgYW5kIGNvbnNvbGlkYXRpb24uXCIpO1xuICByZXR1cm4gd2Vla3M7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tIHN5bnRoZXNpemUgYW5zd2VyIChkZXRlcm1pbmlzdGljIGxvY2FsKSAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGZ1bmN0aW9uIHN5bnRoZXNpemVBbnN3ZXIocXVlcnksIHByb2ZpbGUgPSB7fSwgaGl0cyA9IFtdKSB7XG4gIC8vIElmIGhpdHMgaXMgbm90IGFycmF5LCBjb2VyY2VcbiAgaGl0cyA9IEFycmF5LmlzQXJyYXkoaGl0cykgPyBoaXRzIDogW107XG5cbiAgLy8gMSkgU2hvcnQgY2FyZWVyIHN1bW1hcnk6IHVzZSBwcm9maWxlICsgaGl0c1xuICBjb25zdCBuYW1lUGFydCA9IHByb2ZpbGU/Lm5hbWUgPyBgJHtwcm9maWxlLm5hbWV9LCBgIDogXCJcIjtcbiAgY29uc3QgaW50ZXJlc3QgPSBwcm9maWxlPy5pbnRlcmVzdCB8fCBcInlvdXIgY2hvc2VuIGZpZWxkXCI7XG4gIGNvbnN0IHN1bW1hcnkgPSBgJHtuYW1lUGFydH1iYXNlZCBvbiB5b3VyIGludGVyZXN0IGluICR7aW50ZXJlc3R9IGFuZCBsZXZlbCAoJHtwcm9maWxlPy5sZXZlbCB8fCBcImJlZ2lubmVyXCJ9KSwgaGVyZSBpcyBhIGNvbmNpc2UgcGxhbiBhbmQgc2tpbGxzIHRvIGZvY3VzIG9uLmA7XG5cbiAgLy8gMikgVG9wIHJlY29tbWVuZGVkIHNraWxscy9jZXJ0cyAoaGV1cmlzdGljKVxuICBsZXQgc2tpbGxzID0gdG9wS2V5d29yZHNGcm9tSGl0cyhoaXRzLCA1KTtcbiAgaWYgKHNraWxscy5sZW5ndGggPT09IDApIHtcbiAgICAvLyBmYWxsYmFjayBieSBpbnRlcmVzdFxuICAgIGNvbnN0IGludExvd2VyID0gaW50ZXJlc3QudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoaW50TG93ZXIuaW5jbHVkZXMoXCJkYXRhXCIpIHx8IGludExvd2VyLmluY2x1ZGVzKFwiYWlcIikgfHwgaW50TG93ZXIuaW5jbHVkZXMoXCJtbFwiKSkge1xuICAgICAgc2tpbGxzID0gW1wiUHl0aG9uXCIsIFwiU1FMXCIsIFwiU3RhdGlzdGljc1wiLCBcIk1hY2hpbmUgTGVhcm5pbmdcIiwgXCJEYXRhIFZpc3VhbGl6YXRpb25cIl07XG4gICAgfSBlbHNlIGlmIChpbnRMb3dlci5pbmNsdWRlcyhcImRlc2lnblwiKSkge1xuICAgICAgc2tpbGxzID0gW1wiRGVzaWduIFRoaW5raW5nXCIsIFwiRmlnbWFcIiwgXCJXaXJlZnJhbWluZ1wiLCBcIlByb3RvdHlwaW5nXCIsIFwiVXNlciBSZXNlYXJjaFwiXTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2tpbGxzID0gW1wiQ29yZSBTdWJqZWN0IE1hc3RlcnlcIiwgXCJCYXNpYyBEYXRhIFNraWxsc1wiLCBcIlJlc2VhcmNoICYgRG9jdW1lbnRhdGlvblwiXTtcbiAgICB9XG4gIH1cblxuICAvLyAzKSBTaG9ydCBzdGVwLWJ5LXN0ZXAgbmV4dCBzdGVwcyAoZ2VuZXJpYylcbiAgY29uc3Qgc3RlcHMgPSBbXG4gICAgXCJTdHJlbmd0aGVuIHlvdXIgdGhlb3J5L2Z1bmRhbWVudGFscyAoTkNFUlQgLyBjb3Vyc2Utc3BlY2lmaWMgYmFzaWNzKS5cIixcbiAgICBcIkxlYXJuIG9uZSBwcmFjdGljYWwgdG9vbC90ZWNoIChlLmcuLCBQeXRob24gZm9yIGRhdGEgb3IgRmlnbWEgZm9yIGRlc2lnbikuXCIsXG4gICAgXCJCdWlsZCBhIHNtYWxsLCBkZW1vbnN0cmFibGUgcHJvamVjdCAoZG9jdW1lbnQgcmVzdWx0cykuXCIsXG4gICAgXCJUYWtlIG9uZSByZWNvZ25pemVkIGNvdXJzZS9jZXJ0aWZpY2F0aW9uIGFuZCBwdWJsaXNoIHlvdXIgd29yay5cIixcbiAgXTtcblxuICAvLyA0KSBUd28gc2FtcGxlIHByb2plY3RzIC0gdGFpbG9yZWQgYnkgaW50ZXJlc3RcbiAgbGV0IHByb2plY3RzID0gW107XG4gIGNvbnN0IGludExvd2VyID0gaW50ZXJlc3QudG9Mb3dlckNhc2UoKTtcbiAgaWYgKGludExvd2VyLmluY2x1ZGVzKFwiZGF0YVwiKSB8fCBpbnRMb3dlci5pbmNsdWRlcyhcImFpXCIpIHx8IGludExvd2VyLmluY2x1ZGVzKFwibWxcIikpIHtcbiAgICBwcm9qZWN0cyA9IFtcbiAgICAgIFwiUHJvamVjdCAxIOKAlCBDbGFzc2lmeSBhIGRhdGFzZXQgKGVuZC10by1lbmQpOiBEYXRhIGNsZWFuaW5nIOKGkiBtb2RlbCDihpIgZXZhbHVhdGlvbiDihpIgd3JpdGUtdXAuXCIsXG4gICAgICBcIlByb2plY3QgMiDigJQgRGF0YSB2aXN1YWxpemF0aW9uIHJlcG9ydCBvbiBhIHB1YmxpYyBkYXRhc2V0IChwdWJsaXNoIG9uIEdpdEh1YikuXCIsXG4gICAgXTtcbiAgfSBlbHNlIGlmIChpbnRMb3dlci5pbmNsdWRlcyhcImRlc2lnblwiKSkge1xuICAgIHByb2plY3RzID0gW1xuICAgICAgXCJQcm9qZWN0IDEg4oCUIENvbXBsZXRlIGEgMi13ZWVrIFVYIGNhc2Ugc3R1ZHk6IHJlc2VhcmNoIOKGkiB3aXJlZnJhbWVzIOKGkiBwcm90b3R5cGUuXCIsXG4gICAgICBcIlByb2plY3QgMiDigJQgUmVkZXNpZ24gYSBzbWFsbCBhcHAgcGFnZSBhbmQgZG9jdW1lbnQgVVggZGVjaXNpb25zLlwiLFxuICAgIF07XG4gIH0gZWxzZSB7XG4gICAgcHJvamVjdHMgPSBbXG4gICAgICBcIlByb2plY3QgMSDigJQgQ29uZHVjdCBhIHNtYWxsIGV4cGVyaW1lbnQgb3Igc3R1ZHkgYW5kIHdyaXRlIHRoZSByZXN1bHRzLlwiLFxuICAgICAgXCJQcm9qZWN0IDIg4oCUIENyZWF0ZSBhIHByZXNlbnRhdGlvbi9zdW1tYXJ5IG9mIGxlYXJuaW5ncyBhbmQgc2hhcmUgaXQgcHVibGljbHkuXCIsXG4gICAgXTtcbiAgfVxuXG4gIC8vIDUpIElmIHRoZSB1c2VyIGFza2VkIGZvciBhIDEyLXdlZWsgcGxhbiwgZ2VuZXJhdGUgaXRcbiAgY29uc3Qgd2FudDEyV2VlayA9IC9cXGIoMTJbLSBdP3dlZWt8dHdlbHZlIHdlZWt8MTIgd2VlayBwbGFufGNyZWF0ZSBhIDEyIHdlZWsgcGxhbilcXGIvaS50ZXN0KHF1ZXJ5KTtcbiAgY29uc3QgcGxhblNlY3Rpb24gPSB3YW50MTJXZWVrID8gZ2VuZXJhdGUxMldlZWtQbGFuKHByb2ZpbGUpLm1hcCgocCwgaWR4KSA9PiBgV2VlayBibG9jayAke2lkeCsxfTogJHtwfWApIDogW107XG5cbiAgLy8gNikgQnVpbGQgZmluYWwgc3RydWN0dXJlZCBzdHJpbmdcbiAgY29uc3Qgb3V0ID0gW1xuICAgIGBTdW1tYXJ5OiAke3N1bW1hcnl9YCxcbiAgICBcIlwiLFxuICAgIFwiUmVjb21tZW5kZWQgc2tpbGxzICYgY2VydGlmaWNhdGlvbnM6XCIsXG4gICAgLi4uc2tpbGxzLm1hcChzID0+IGAtICR7c31gKSxcbiAgICBcIlwiLFxuICAgIFwiTmV4dCBTdGVwczpcIixcbiAgICAuLi5zdGVwcy5tYXAocyA9PiBgLSAke3N9YCksXG4gICAgXCJcIixcbiAgICBcIlNhbXBsZSBQcm9qZWN0czpcIixcbiAgICAuLi5wcm9qZWN0cy5tYXAoKHAsIGkpID0+IGAke2krMX0uICR7cH1gKSxcbiAgICBcIlwiLFxuICAgIC4uLihwbGFuU2VjdGlvbi5sZW5ndGggPyBbXCIxMi13ZWVrIHBsYW46XCIsIC4uLnBsYW5TZWN0aW9uLCBcIlwiXSA6IFtdKSxcbiAgICBcIk1vdGl2YXRpb246IFRha2Ugc21hbGwgY29uc2lzdGVudCBzdGVwcyDigJQgcHJvZ3Jlc3MgY29tcG91bmRzIGZhc3RlciB0aGFuIHlvdSB0aGluayFcIixcbiAgXTtcblxuICByZXR1cm4gb3V0LmpvaW4oXCJcXG5cIik7XG59XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vIGltcG9ydCB7IFJlY3Vyc2l2ZUNoYXJhY3RlclRleHRTcGxpdHRlciB9IGZyb20gXCJsYW5nY2hhaW4vdGV4dF9zcGxpdHRlclwiO1xuLy8gaW1wb3J0IHsgTWVtb3J5VmVjdG9yU3RvcmUgfSBmcm9tIFwibGFuZ2NoYWluL3ZlY3RvcnN0b3Jlcy9tZW1vcnlcIjtcbi8vIGltcG9ydCB7IERvY3VtZW50IH0gZnJvbSBcImxhbmdjaGFpbi9kb2N1bWVudFwiO1xuLy8gaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuLy8gaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbi8vIGltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSUVtYmVkZGluZ3MsIENoYXRHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tIFwiQGxhbmdjaGFpbi9nb29nbGUtZ2VuYWlcIjtcblxuLy8gbGV0IHN0b3JlO1xuXG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdFN0b3JlKCkge1xuLy8gICBpZiAoc3RvcmUpIHJldHVybiBzdG9yZTtcblxuLy8gICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5HT09HTEVfQVBJX0tFWTtcbi8vICAgaWYgKCFhcGlLZXkpIHtcbi8vICAgICBjb25zb2xlLndhcm4oXCLimqDvuI8gR09PR0xFX0FQSV9LRVkgbWlzc2luZywgdXNpbmcgbW9jayB2ZWN0b3Igc3RvcmVcIik7XG4vLyAgICAgLy8g4pyFIFJldHVybiBmYWtlIHN0b3JlIHdpdGggc2ltaWxhcml0eVNlYXJjaCBmYWxsYmFja1xuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICBzaW1pbGFyaXR5U2VhcmNoOiBhc3luYyAoKSA9PiBbXG4vLyAgICAgICAgIG5ldyBEb2N1bWVudCh7IHBhZ2VDb250ZW50OiBcIjEuIExlYXJuIGJhc2ljcyBvZiBQeXRob24sIFNRTFwiIH0pLFxuLy8gICAgICAgICBuZXcgRG9jdW1lbnQoeyBwYWdlQ29udGVudDogXCIyLiBTcGVjaWFsaXplIGluIEFJL01MIG9yIERhdGEgU2NpZW5jZVwiIH0pLFxuLy8gICAgICAgICBuZXcgRG9jdW1lbnQoeyBwYWdlQ29udGVudDogXCIzLiBFYXJuIGNlcnRpZmljYXRpb25zIChDb3Vyc2VyYSwgQVdTLCBBenVyZSlcIiB9KSxcbi8vICAgICAgICAgbmV3IERvY3VtZW50KHsgcGFnZUNvbnRlbnQ6IFwiNC4gQXBwbHkgZm9yIGludGVybnNoaXBzICYgZW50cnktbGV2ZWwgcm9sZXNcIiB9KSxcbi8vICAgICAgIF0sXG4vLyAgICAgfTtcbi8vICAgfVxuXG4vLyAgIC8vIOKchSBMb2FkIHlvdXIgZGF0YXNldFxuLy8gICBjb25zdCBkYXRhc2V0UGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBcInB1YmxpY1wiLCBcImRhdGFzZXRfY2FyZWVyX3BhdGgudHh0XCIpO1xuLy8gICBjb25zdCByYXdUZXh0ID0gZnMucmVhZEZpbGVTeW5jKGRhdGFzZXRQYXRoLCBcInV0ZjhcIik7XG5cbi8vICAgY29uc3Qgc3BsaXR0ZXIgPSBuZXcgUmVjdXJzaXZlQ2hhcmFjdGVyVGV4dFNwbGl0dGVyKHsgY2h1bmtTaXplOiA1MDAsIGNodW5rT3ZlcmxhcDogNTAgfSk7XG4vLyAgIGNvbnN0IGRvY3MgPSBhd2FpdCBzcGxpdHRlci5zcGxpdERvY3VtZW50cyhbbmV3IERvY3VtZW50KHsgcGFnZUNvbnRlbnQ6IHJhd1RleHQgfSldKTtcblxuLy8gICBjb25zdCBlbWJlZGRpbmdzID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUVtYmVkZGluZ3MoeyBhcGlLZXkgfSk7XG4vLyAgIHN0b3JlID0gYXdhaXQgTWVtb3J5VmVjdG9yU3RvcmUuZnJvbURvY3VtZW50cyhkb2NzLCBlbWJlZGRpbmdzKTtcblxuLy8gICByZXR1cm4gc3RvcmU7XG4vLyB9XG5cbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXRyaWV2ZShxdWVyeSkge1xuLy8gICBjb25zdCBzdG9yZSA9IGF3YWl0IGluaXRTdG9yZSgpO1xuLy8gICByZXR1cm4gc3RvcmUuc2ltaWxhcml0eVNlYXJjaChxdWVyeSwgNCk7XG4vLyB9XG5cbi8vIC8vIPCflLkgR2VuZXJhdGVcbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBzeW50aGVzaXplQW5zd2VyKHF1ZXJ5LCBkb2NzKSB7XG4vLyAgIGNvbnN0IGxsbSA9IG5ldyBDaGF0R29vZ2xlR2VuZXJhdGl2ZUFJKHtcbi8vICAgICBhcGlLZXk6IHByb2Nlc3MuZW52LkdPT0dMRV9BUElfS0VZLFxuLy8gICAgIG1vZGVsOiBcImdlbWluaS1wcm9cIixcbi8vICAgICB0ZW1wZXJhdHVyZTogMC40LFxuLy8gICB9KTtcblxuLy8gICBjb25zdCBjb250ZXh0ID0gZG9jcy5tYXAoKGQpID0+IGQucGFnZUNvbnRlbnQpLmpvaW4oXCJcXG5cXG5cIik7XG5cbi8vICAgY29uc3QgcHJvbXB0ID0gbmV3IFByb21wdFRlbXBsYXRlKHtcbi8vICAgICB0ZW1wbGF0ZTogYFxuLy8gWW91IGFyZSBBSSAzNjAgQ2FyZWVyIEJvdC4gXG4vLyBQcm92aWRlIGEgY2xlYXIsIGFjdGlvbmFibGUgY2FyZWVyIGd1aWRhbmNlIHJlc3BvbnNlLlxuXG4vLyBDb250ZXh0OlxuLy8ge2NvbnRleHR9XG5cbi8vIFF1ZXN0aW9uOlxuLy8ge3F1ZXN0aW9ufVxuXG4vLyBBbnN3ZXI6XG4vLyAtIFN1bW1hcml6ZSBtYWluIHBhdGguXG4vLyAtIExpc3QgM+KAkzQgZXNzZW50aWFsIHNraWxscy9jZXJ0cy5cbi8vIC0gU3VnZ2VzdCAyIG1pbmkgcHJvamVjdHMuXG4vLyAgICAgYCxcbi8vICAgICBpbnB1dFZhcmlhYmxlczogW1wiY29udGV4dFwiLCBcInF1ZXN0aW9uXCJdLFxuLy8gICB9KTtcblxuLy8gICBjb25zdCBpbnB1dCA9IGF3YWl0IHByb21wdC5mb3JtYXQoeyBjb250ZXh0LCBxdWVzdGlvbjogcXVlcnkgfSk7XG4vLyAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbGxtLmludm9rZShpbnB1dCk7XG5cbi8vICAgcmV0dXJuIHJlc3BvbnNlLmNvbnRlbnQgfHwgcmVzcG9uc2UudGV4dCB8fCBcIlNvcnJ5LCBJIGNvdWxkIG5vdCBnZW5lcmF0ZSBhIHJlc3BvbnNlLlwiO1xuLy8gfVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLy8gaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuLy8gaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbi8vIGltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSUVtYmVkZGluZ3MsIENoYXRHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tIFwiQGxhbmdjaGFpbi9nb29nbGUtZ2VuYWlcIjtcbi8vIGltcG9ydCB7IFJlY3Vyc2l2ZUNoYXJhY3RlclRleHRTcGxpdHRlciB9IGZyb20gXCJsYW5nY2hhaW4vdGV4dF9zcGxpdHRlclwiO1xuLy8gaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Byb21wdHNcIjtcbi8vIGltcG9ydCB7IE1lbW9yeVZlY3RvclN0b3JlIH0gZnJvbSBcImxhbmdjaGFpbi92ZWN0b3JzdG9yZXMvbWVtb3J5XCI7XG5cbi8vIC8vIEluaXRpYWxpemUgdmVjdG9yIHN0b3JlXG4vLyBsZXQgdmVjdG9yU3RvcmU7XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIGluaXRTdG9yZSgpIHtcbi8vICAgaWYgKCF2ZWN0b3JTdG9yZSkge1xuLy8gICAgIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LkdPT0dMRV9BUElfS0VZO1xuLy8gICAgIGlmICghYXBpS2V5KSB7XG4vLyAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCLinYwgR09PR0xFX0FQSV9LRVkgaXMgbm90IHNldC4gUGxlYXNlIGFkZCBpdCB0byAuZW52LmxvY2FsIGFuZCByZXN0YXJ0LlwiKTtcbi8vICAgICAgIGNvbnNvbGUud2FybihcIuKaoO+4jyBHT09HTEVfQVBJX0tFWSBtaXNzaW5nLCB1c2luZyBtb2NrIHJlc3BvbnNlLi4uXCIpO1xuLy8gICAgIHJldHVybiBgXG4vLyAxLiBMZWFybiBQeXRob24gKyBTUUwgYmFzaWNzICBcbi8vIDIuIE1vdmUgaW50byBEYXRhIFNjaWVuY2Ugb3IgTUwgc3BlY2lhbGl6YXRpb24gIFxuLy8gMy4gRG8gY2VydGlmaWNhdGlvbnMgKENvdXJzZXJhLCBBV1MsIEF6dXJlKSAgXG4vLyA0LiBBcHBseSBmb3IgaW50ZXJuc2hpcHMgJiBlbnRyeS1sZXZlbCBqb2JzICBcbi8vICAgICBgO1xuLy8gICAgIH1cblxuLy8gICAgIGNvbnN0IGVtYmVkZGluZ3MgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJRW1iZWRkaW5ncyh7XG4vLyAgICAgICBhcGlLZXksXG4vLyAgICAgICBtb2RlbDogXCJnZW1pbmktcHJvXCIsXG4vLyAgICAgfSk7XG5cbi8vICAgICB2ZWN0b3JTdG9yZSA9IG5ldyBNZW1vcnlWZWN0b3JTdG9yZShlbWJlZGRpbmdzKTtcblxuLy8gICAgIC8vIHByZWxvYWQgZGF0YXNldFxuLy8gICAgIGNvbnN0IGRhdGFzZXRQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwiZGF0YVwiLCBcImRhdGFzZXRfY2FyZWVyX3BhdGgudHh0XCIpO1xuLy8gICAgIGlmIChmcy5leGlzdHNTeW5jKGRhdGFzZXRQYXRoKSkge1xuLy8gICAgICAgY29uc3QgdGV4dCA9IGZzLnJlYWRGaWxlU3luYyhkYXRhc2V0UGF0aCwgXCJ1dGY4XCIpO1xuLy8gICAgICAgY29uc3Qgc3BsaXR0ZXIgPSBuZXcgUmVjdXJzaXZlQ2hhcmFjdGVyVGV4dFNwbGl0dGVyKHsgY2h1bmtTaXplOiA1MDAsIGNodW5rT3ZlcmxhcDogNTAgfSk7XG4vLyAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgc3BsaXR0ZXIuY3JlYXRlRG9jdW1lbnRzKFt0ZXh0XSk7XG4vLyAgICAgICBhd2FpdCB2ZWN0b3JTdG9yZS5hZGREb2N1bWVudHMoZG9jcyk7XG4vLyAgICAgfVxuLy8gICB9XG4vLyAgIHJldHVybiB2ZWN0b3JTdG9yZTtcbi8vIH1cblxuLy8gLy8g8J+UuSBSZXRyaWV2ZVxuLy8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldHJpZXZlKHF1ZXJ5KSB7XG4vLyAgIGNvbnN0IHN0b3JlID0gYXdhaXQgaW5pdFN0b3JlKCk7XG4vLyAgIHJldHVybiBzdG9yZS5zaW1pbGFyaXR5U2VhcmNoKHF1ZXJ5LCA0KTtcbi8vIH1cblxuLy8gLy8g8J+UuSBHZW5lcmF0ZVxuLy8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN5bnRoZXNpemVBbnN3ZXIocXVlcnksIGRvY3MpIHtcbi8vICAgY29uc3QgbGxtID0gbmV3IENoYXRHb29nbGVHZW5lcmF0aXZlQUkoe1xuLy8gICAgIGFwaUtleTogcHJvY2Vzcy5lbnYuR09PR0xFX0FQSV9LRVksXG4vLyAgICAgbW9kZWw6IFwiZ2VtaW5pLXByb1wiLFxuLy8gICAgIHRlbXBlcmF0dXJlOiAwLjQsXG4vLyAgIH0pO1xuXG4vLyAgIGNvbnN0IGNvbnRleHQgPSBkb2NzLm1hcCgoZCkgPT4gZC5wYWdlQ29udGVudCkuam9pbihcIlxcblxcblwiKTtcblxuLy8gICBjb25zdCBwcm9tcHQgPSBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuLy8gICAgIHRlbXBsYXRlOiBgXG4vLyBZb3UgYXJlIEFJIDM2MCBDYXJlZXIgQm90LiBcbi8vIFByb3ZpZGUgYSBjbGVhciwgYWN0aW9uYWJsZSBjYXJlZXIgZ3VpZGFuY2UgcmVzcG9uc2UuXG5cbi8vIENvbnRleHQ6XG4vLyB7Y29udGV4dH1cblxuLy8gUXVlc3Rpb246XG4vLyB7cXVlc3Rpb259XG5cbi8vIEFuc3dlcjpcbi8vIC0gU3VtbWFyaXplIG1haW4gcGF0aC5cbi8vIC0gTGlzdCAz4oCTNCBlc3NlbnRpYWwgc2tpbGxzL2NlcnRzLlxuLy8gLSBTdWdnZXN0IDIgbWluaSBwcm9qZWN0cy5cbi8vICAgICBgLFxuLy8gICAgIGlucHV0VmFyaWFibGVzOiBbXCJjb250ZXh0XCIsIFwicXVlc3Rpb25cIl0sXG4vLyAgIH0pO1xuXG4vLyAgIGNvbnN0IGlucHV0ID0gYXdhaXQgcHJvbXB0LmZvcm1hdCh7IGNvbnRleHQsIHF1ZXN0aW9uOiBxdWVyeSB9KTtcbi8vICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsbG0uaW52b2tlKGlucHV0KTtcblxuLy8gICByZXR1cm4gcmVzcG9uc2UuY29udGVudCB8fCByZXNwb25zZS50ZXh0IHx8IFwiU29ycnksIEkgY291bGQgbm90IGdlbmVyYXRlIGEgcmVzcG9uc2UuXCI7XG4vLyB9XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyBpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG4vLyBpbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuLy8gaW1wb3J0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJRW1iZWRkaW5ncywgQ2hhdEdvb2dsZUdlbmVyYXRpdmVBSSB9IGZyb20gXCJAbGFuZ2NoYWluL2dvb2dsZS1nZW5haVwiO1xuLy8gaW1wb3J0IHsgUmVjdXJzaXZlQ2hhcmFjdGVyVGV4dFNwbGl0dGVyIH0gZnJvbSBcImxhbmdjaGFpbi90ZXh0X3NwbGl0dGVyXCI7XG4vLyBpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcHJvbXB0c1wiO1xuLy8gaW1wb3J0IHsgTWVtb3J5VmVjdG9yU3RvcmUgfSBmcm9tIFwibGFuZ2NoYWluL3ZlY3RvcnN0b3Jlcy9tZW1vcnlcIjtcblxuLy8gLy8gQ3JlYXRlIG1lbW9yeSBzdG9yZSBvbmNlXG4vLyBjb25zdCBzdG9yZVBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJkYXRhL21lbW9yeV9zdG9yZS5qc29uXCIpO1xuXG4vLyAvLyBMb2FkIG9yIGluaXQgbWVtb3J5XG4vLyBsZXQgdmVjdG9yU3RvcmU7XG4vLyBhc3luYyBmdW5jdGlvbiBpbml0U3RvcmUoKSB7XG4vLyAgIGlmICghdmVjdG9yU3RvcmUpIHtcbi8vICAgICBjb25zdCBlbWJlZGRpbmdzID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUVtYmVkZGluZ3Moe1xuLy8gICAgICAgYXBpS2V5OiBwcm9jZXNzLmVudi5HT09HTEVfQVBJX0tFWSxcbi8vICAgICAgIG1vZGVsOiBcImVtYmVkZGluZy0wMDFcIixcbi8vICAgICB9KTtcblxuLy8gICAgIHZlY3RvclN0b3JlID0gbmV3IE1lbW9yeVZlY3RvclN0b3JlKGVtYmVkZGluZ3MpO1xuXG4vLyAgICAgLy8gcHJlbG9hZCBkYXRhc2V0IGlmIGF2YWlsYWJsZVxuLy8gICAgIGNvbnN0IGRhdGFzZXRQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwiZGF0YVwiLCBcImRhdGFzZXRfY2FyZWVyX3BhdGgudHh0XCIpO1xuLy8gICAgIGlmIChmcy5leGlzdHNTeW5jKGRhdGFzZXRQYXRoKSkge1xuLy8gICAgICAgY29uc3QgdGV4dCA9IGZzLnJlYWRGaWxlU3luYyhkYXRhc2V0UGF0aCwgXCJ1dGY4XCIpO1xuLy8gICAgICAgY29uc3Qgc3BsaXR0ZXIgPSBuZXcgUmVjdXJzaXZlQ2hhcmFjdGVyVGV4dFNwbGl0dGVyKHsgY2h1bmtTaXplOiA1MDAsIGNodW5rT3ZlcmxhcDogNTAgfSk7XG4vLyAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgc3BsaXR0ZXIuY3JlYXRlRG9jdW1lbnRzKFt0ZXh0XSk7XG4vLyAgICAgICBhd2FpdCB2ZWN0b3JTdG9yZS5hZGREb2N1bWVudHMoZG9jcyk7XG4vLyAgICAgfVxuLy8gICB9XG4vLyAgIHJldHVybiB2ZWN0b3JTdG9yZTtcbi8vIH1cblxuLy8gLy8g8J+UuSBSZXRyaWV2ZSByZWxldmFudCBkb2NzXG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gcmV0cmlldmUocXVlcnkpIHtcbi8vICAgY29uc3Qgc3RvcmUgPSBhd2FpdCBpbml0U3RvcmUoKTtcbi8vICAgcmV0dXJuIHN0b3JlLnNpbWlsYXJpdHlTZWFyY2gocXVlcnksIDQpO1xuLy8gfVxuXG4vLyAvLyDwn5S5IFN5bnRoZXNpemUgZmluYWwgYW5zd2VyXG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gc3ludGhlc2l6ZUFuc3dlcihxdWVyeSwgZG9jcykge1xuLy8gICBjb25zdCBsbG0gPSBuZXcgQ2hhdEdvb2dsZUdlbmVyYXRpdmVBSSh7XG4vLyAgICAgYXBpS2V5OiBwcm9jZXNzLmVudi5HT09HTEVfQVBJX0tFWSxcbi8vICAgICBtb2RlbDogXCJnZW1pbmktcHJvXCIsXG4vLyAgICAgdGVtcGVyYXR1cmU6IDAuNCxcbi8vICAgfSk7XG5cbi8vICAgY29uc3QgY29udGV4dCA9IGRvY3MubWFwKChkKSA9PiBkLnBhZ2VDb250ZW50KS5qb2luKFwiXFxuXFxuXCIpO1xuXG4vLyAgIGNvbnN0IHByb21wdCA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4vLyAgICAgdGVtcGxhdGU6IGBcbi8vIFlvdSBhcmUgQUkgMzYwIENhcmVlciBCb3QuIFxuLy8gVXNlIHRoZSBjb250ZXh0IGJlbG93IHRvIGFuc3dlciB0aGUgcXVlc3Rpb24uXG5cbi8vIENvbnRleHQ6XG4vLyB7Y29udGV4dH1cblxuLy8gUXVlc3Rpb246XG4vLyB7cXVlc3Rpb259XG5cbi8vIEFuc3dlciBpbiBjbGVhciwgYWN0aW9uYWJsZSBjYXJlZXIgZ3VpZGFuY2Ugc3RlcHMuXG4vLyAgICAgYCxcbi8vICAgICBpbnB1dFZhcmlhYmxlczogW1wiY29udGV4dFwiLCBcInF1ZXN0aW9uXCJdLFxuLy8gICB9KTtcblxuLy8gICBjb25zdCBpbnB1dCA9IGF3YWl0IHByb21wdC5mb3JtYXQoeyBjb250ZXh0LCBxdWVzdGlvbjogcXVlcnkgfSk7XG4vLyAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbGxtLmludm9rZShpbnB1dCk7XG5cbi8vICAgcmV0dXJuIHJlc3BvbnNlLmNvbnRlbnQgfHwgcmVzcG9uc2UudGV4dCB8fCBcIlNvcnJ5LCBJIGNvdWxkIG5vdCBnZW5lcmF0ZSBhIHJlc3BvbnNlLlwiO1xuLy8gfVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLy8gaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuLy8gaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbi8vIC8vIGltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSUVtYmVkZGluZ3MsIENoYXRHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tIFwiQGxhbmdjaGFpbi9nb29nbGUtZ2VuYWlcIjtcblxuXG4vLyAvLyBpbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUlFbWJlZGRpbmdzLCBDaGF0R29vZ2xlR2VuZXJhdGl2ZUFJIH0gZnJvbSBcImxhbmdjaGFpbi9nb29nbGUtZ2VuYWlcIjtcbi8vIC8vIGltcG9ydCB7IFJlY3Vyc2l2ZUNoYXJhY3RlclRleHRTcGxpdHRlciB9IGZyb20gXCJsYW5nY2hhaW4vdGV4dF9zcGxpdHRlclwiO1xuLy8gLy8gaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Byb21wdHNcIjtcbi8vIC8vIGltcG9ydCB7IE1lbW9yeVZlY3RvclN0b3JlIH0gZnJvbSBcImxhbmdjaGFpbi92ZWN0b3JzdG9yZXMvbWVtb3J5XCI7XG5cbi8vIGltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSUVtYmVkZGluZ3MsIENoYXRHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tIFwiQGxhbmdjaGFpbi9nb29nbGUtZ2VuYWlcIjtcbi8vIGltcG9ydCB7IFJlY3Vyc2l2ZUNoYXJhY3RlclRleHRTcGxpdHRlciB9IGZyb20gXCJsYW5nY2hhaW4vdGV4dF9zcGxpdHRlclwiO1xuLy8gaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Byb21wdHNcIjtcbi8vIGltcG9ydCB7IE1lbW9yeVZlY3RvclN0b3JlIH0gZnJvbSBcImxhbmdjaGFpbi92ZWN0b3JzdG9yZXMvbWVtb3J5XCI7XG5cbi8vIGNvbnN0IElOREVYX0ZJTEUgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJkYXRhXCIsIFwiaW5kZXhcIiwgXCJtZW1vcnlfc3RvcmUuanNvblwiKTtcblxuLy8gLy8gRW1iZWRkaW5ncyArIExMTVxuLy8gY29uc3QgRU1CRURESU5HUyA9IG5ldyBHb29nbGVHZW5lcmF0aXZlQUlFbWJlZGRpbmdzKHtcbi8vICAgYXBpS2V5OiBwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWSxcbi8vICAgbW9kZWw6IFwidGV4dC1lbWJlZGRpbmctMDA0XCIsXG4vLyB9KTtcblxuLy8gY29uc3QgTExNID0gbmV3IENoYXRHb29nbGVHZW5lcmF0aXZlQUkoe1xuLy8gICBhcGlLZXk6IHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZLFxuLy8gICBtb2RlbDogXCJnZW1pbmktMS41LXByb1wiLFxuLy8gICB0ZW1wZXJhdHVyZTogMC4zLFxuLy8gICBtYXhPdXRwdXRUb2tlbnM6IDEwMjQsXG4vLyB9KTtcblxuLy8gLy8g8J+UuSBTeXN0ZW0gcHJvbXB0IGVuc3VyZXMgc3RydWN0dXJlZCwgdXNlci1mcmllbmRseSBhbnN3ZXJzXG4vLyBjb25zdCBTWVNURU1fUFJPTVBUID0gYFxuLy8gWW91IGFyZSBBSSAzNjAgQ2FyZWVyIEFzc2lzdGFudC5cbi8vIFlvdXIgam9iOiBnaXZlIGNsZWFyLCBzdHJ1Y3R1cmVkLCBtb3RpdmF0aW5nIGNhcmVlciBhZHZpY2UuXG5cbi8vIFJ1bGVzOlxuLy8gLSBETyBOT1QgZHVtcCByYXcgdGV4dCBmcm9tIHNvdXJjZXMuXG4vLyAtIFN1bW1hcml6ZSBpbnNpZ2h0cyBpbnRvIGVhc3ktdG8tcmVhZCBndWlkYW5jZS5cbi8vIC0gVXNlIGJ1bGxldCBwb2ludHMgZm9yIHNraWxscywgY2VydGlmaWNhdGlvbnMsIGFuZCBzdGVwcy5cbi8vIC0gSWYgYXNrZWQgZm9yIGEgcGxhbiwgZ2l2ZSBhIHdlZWstYnktd2VlayByb2FkbWFwLlxuLy8gLSBBbHdheXMgZW5kIHdpdGggMSBtb3RpdmF0aW9uYWwgbGluZS5cbi8vIGA7XG5cbi8vIGNvbnN0IFFBX1RFTVBMQVRFID0gUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKGBcbi8vIHtzeXN0ZW19XG5cbi8vIFVzZXIgUHJvZmlsZTpcbi8vIC0gTmFtZToge25hbWV9XG4vLyAtIENsYXNzL1N0YW5kYXJkOiB7c3RhbmRhcmR9XG4vLyAtIEludGVyZXN0OiB7aW50ZXJlc3R9XG4vLyAtIExldmVsOiB7bGV2ZWx9XG4vLyAtIEdvYWw6IHtnb2FsfVxuXG4vLyBSZXRyaWV2ZWQgS25vd2xlZGdlIEJhc2UgQ29udGV4dDpcbi8vIHtjb250ZXh0fVxuXG4vLyBVc2VyIFF1ZXN0aW9uOlxuLy8ge3F1ZXN0aW9ufVxuXG4vLyBOb3cgcmVzcG9uZCB3aXRoOlxuLy8gMS4gU2hvcnQgQ2FyZWVyIFN1bW1hcnkgKDLigJMzIGxpbmVzKVxuLy8gMi4gUmVjb21tZW5kZWQgU2tpbGxzICYgQ2VydGlmaWNhdGlvbnNcbi8vIDMuIFN0ZXAtYnktU3RlcCBDYXJlZXIgUm9hZG1hcFxuLy8gNC4gMiBTYW1wbGUgUHJvamVjdHMgKG1pbmkgb3IgY2Fwc3RvbmUpXG4vLyA1LiBNb3RpdmF0aW9uYWwgQ2xvc2luZyAoMSBsaW5lKVxuLy8gYCk7XG5cbi8vIGV4cG9ydCBjbGFzcyBSQUdFbmdpbmUge1xuLy8gICBjb25zdHJ1Y3RvcigpIHtcbi8vICAgICB0aGlzLnZlY3RvclN0b3JlID0gbnVsbDtcbi8vICAgfVxuXG4vLyAgIGFzeW5jIGxvYWRPckNyZWF0ZVN0b3JlKCkge1xuLy8gICAgIGlmICh0aGlzLnZlY3RvclN0b3JlKSByZXR1cm47XG5cbi8vICAgICB0cnkge1xuLy8gICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoSU5ERVhfRklMRSkpIHtcbi8vICAgICAgICAgY29uc3QgcmF3ID0gZnMucmVhZEZpbGVTeW5jKElOREVYX0ZJTEUsIFwidXRmLThcIik7XG4vLyAgICAgICAgIGNvbnN0IGRvY3MgPSBKU09OLnBhcnNlKHJhdyk7XG4vLyAgICAgICAgIHRoaXMudmVjdG9yU3RvcmUgPSBhd2FpdCBNZW1vcnlWZWN0b3JTdG9yZS5mcm9tRG9jdW1lbnRzKGRvY3MsIEVNQkVERElOR1MpO1xuLy8gICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgdGhpcy52ZWN0b3JTdG9yZSA9IG5ldyBNZW1vcnlWZWN0b3JTdG9yZShFTUJFRERJTkdTKTtcbi8vICAgICAgICAgdGhpcy5zYXZlU3RvcmUoKTtcbi8vICAgICAgIH1cbi8vICAgICB9IGNhdGNoIChlKSB7XG4vLyAgICAgICBjb25zb2xlLmVycm9yKFwi4pqg77iPIEVycm9yIGxvYWRpbmcgc3RvcmU6XCIsIGUpO1xuLy8gICAgICAgdGhpcy52ZWN0b3JTdG9yZSA9IG5ldyBNZW1vcnlWZWN0b3JTdG9yZShFTUJFRERJTkdTKTtcbi8vICAgICB9XG4vLyAgIH1cblxuLy8gICBzYXZlU3RvcmUoKSB7XG4vLyAgICAgaWYgKCF0aGlzLnZlY3RvclN0b3JlKSByZXR1cm47XG4vLyAgICAgY29uc3QgZGF0YSA9IHRoaXMudmVjdG9yU3RvcmUubWVtb3J5VmVjdG9ycyB8fCBbXTtcbi8vICAgICBmcy5ta2RpclN5bmMocGF0aC5kaXJuYW1lKElOREVYX0ZJTEUpLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbi8vICAgICBmcy53cml0ZUZpbGVTeW5jKElOREVYX0ZJTEUsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpLCBcInV0Zi04XCIpO1xuLy8gICB9XG5cbi8vICAgYXN5bmMgaW5nZXN0UmF3VGV4dCh0ZXh0LCBtZXRhZGF0YSA9IHt9KSB7XG4vLyAgICAgYXdhaXQgdGhpcy5sb2FkT3JDcmVhdGVTdG9yZSgpO1xuLy8gICAgIGNvbnN0IHNwbGl0dGVyID0gbmV3IFJlY3Vyc2l2ZUNoYXJhY3RlclRleHRTcGxpdHRlcih7IGNodW5rU2l6ZTogMTAwMCwgY2h1bmtPdmVybGFwOiAyMDAgfSk7XG4vLyAgICAgY29uc3QgZG9jcyA9IGF3YWl0IHNwbGl0dGVyLmNyZWF0ZURvY3VtZW50cyhbdGV4dF0sIFttZXRhZGF0YV0pO1xuLy8gICAgIGF3YWl0IHRoaXMudmVjdG9yU3RvcmUuYWRkRG9jdW1lbnRzKGRvY3MpO1xuLy8gICAgIHRoaXMuc2F2ZVN0b3JlKCk7XG4vLyAgICAgcmV0dXJuIHsgYWRkZWQ6IGRvY3MubGVuZ3RoIH07XG4vLyAgIH1cblxuLy8gICBhc3luYyByZXRyaWV2ZUNvbnRleHQocXVlcnksIGsgPSA0KSB7XG4vLyAgICAgYXdhaXQgdGhpcy5sb2FkT3JDcmVhdGVTdG9yZSgpO1xuLy8gICAgIGNvbnN0IHJldHJpZXZlciA9IHRoaXMudmVjdG9yU3RvcmUuYXNSZXRyaWV2ZXIoayk7XG4vLyAgICAgY29uc3QgZG9jcyA9IGF3YWl0IHJldHJpZXZlci5nZXRSZWxldmFudERvY3VtZW50cyhxdWVyeSk7XG4vLyAgICAgcmV0dXJuIGRvY3MubWFwKChkKSA9PiBkLnBhZ2VDb250ZW50KS5qb2luKFwiXFxuXFxuXCIpO1xuLy8gICB9XG5cbi8vICAgYXN5bmMgYW5zd2VyKHByb2ZpbGUsIHF1ZXN0aW9uKSB7XG4vLyAgICAgYXdhaXQgdGhpcy5sb2FkT3JDcmVhdGVTdG9yZSgpO1xuLy8gICAgIGNvbnN0IGNvbnRleHQgPSBhd2FpdCB0aGlzLnJldHJpZXZlQ29udGV4dChxdWVzdGlvbik7XG5cbi8vICAgICBjb25zdCBwcm9tcHQgPSBhd2FpdCBRQV9URU1QTEFURS5mb3JtYXQoe1xuLy8gICAgICAgc3lzdGVtOiBTWVNURU1fUFJPTVBULFxuLy8gICAgICAgY29udGV4dCxcbi8vICAgICAgIHF1ZXN0aW9uLFxuLy8gICAgICAgLi4ucHJvZmlsZSwgLy8gaW5jbHVkZXMge25hbWUsIHN0YW5kYXJkLCBpbnRlcmVzdCwgbGV2ZWwsIGdvYWx9XG4vLyAgICAgfSk7XG5cbi8vICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IExMTS5pbnZva2UocHJvbXB0KTtcbi8vICAgICByZXR1cm4gcmVzcG9uc2UuY29udGVudD8uWzBdPy50ZXh0IHx8IHJlc3BvbnNlLnRleHQgfHwgU3RyaW5nKHJlc3BvbnNlKTtcbi8vICAgfVxuLy8gfVxuXG4vLyBleHBvcnQgY29uc3QgcmFnID0gbmV3IFJBR0VuZ2luZSgpO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLy8gaW1wb3J0IGZzIGZyb20gXCJmc1wiOyBpbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuLy8gY29uc3QgREFUQV9ESVI9cGF0aC5qb2luKHByb2Nlc3MuY3dkKCksXCJkYXRhXCIsXCJzZWVkc1wiKTtcbi8vIGZ1bmN0aW9uIHNwbGl0SW50b0NodW5rcyh0ZXh0KXtcbi8vICAgY29uc3QgcGFydHM9dGV4dC5zcGxpdCgvXFxuXFxzKi0tLStcXHMqXFxufFxcbiMgL2cpLm1hcChwPT5wLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuLy8gICBjb25zdCBjaHVua3M9W107IGZvcihjb25zdCBwIG9mIHBhcnRzKXsgaWYocC5sZW5ndGg8PTEyMDApe2NodW5rcy5wdXNoKHApO30gZWxzZXsgZm9yKGxldCBpPTA7aTxwLmxlbmd0aDtpKz0xMjAwKXtjaHVua3MucHVzaChwLnNsaWNlKGksaSsxMjAwKSk7fX19IHJldHVybiBjaHVua3M7XG4vLyB9XG4vLyBmdW5jdGlvbiBzY29yZShxdWVyeSxjaHVuayl7IGNvbnN0IHE9cXVlcnkudG9Mb3dlckNhc2UoKTsgbGV0IHM9MDtcbi8vICAgZm9yKGNvbnN0IHRva2VuIG9mIHEuc3BsaXQoL1teYS16MC05K10rL2cpKXsgaWYoIXRva2VuKWNvbnRpbnVlOyBjb25zdCByZT1uZXcgUmVnRXhwKGBcXFxcYiR7dG9rZW4ucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXFxdXFxcXF0vZywnXFxcXCQmJyl9XFxcXGJgLFwiaVwiKTsgaWYocmUudGVzdChjaHVuaykpIHMrPTI7IGlmKGNodW5rLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModG9rZW4pKSBzKz0xOyB9XG4vLyAgIGlmKC9eXFxzKihBSXxEYXRhfENsb3VkfEN5YmVyfFNvZnR3YXJlfERlc2lnbnxDb21tZXJjZXxNZWRpY2FsfExhd3xDYXJlZXIpL2kudGVzdChjaHVuaykpIHMrPTEuNTtcbi8vICAgcmV0dXJuIHM7XG4vLyB9XG4vLyBleHBvcnQgZnVuY3Rpb24gbG9hZEtub3dsZWRnZSgpeyBjb25zdCBmaWxlcz1mcy5yZWFkZGlyU3luYyhEQVRBX0RJUikuZmlsdGVyKGY9PmYuZW5kc1dpdGgoXCIudHh0XCIpKTsgY29uc3QgZG9jcz1bXTtcbi8vICAgZm9yKGNvbnN0IGYgb2YgZmlsZXMpeyBjb25zdCB0ZXh0PWZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oREFUQV9ESVIsZiksXCJ1dGYtOFwiKTsgY29uc3QgY2h1bmtzPXNwbGl0SW50b0NodW5rcyh0ZXh0KS5tYXAoKGMsaSk9Pih7aWQ6YCR7Zn06JHtpfWAsdGV4dDpjfSkpOyBkb2NzLnB1c2goLi4uY2h1bmtzKTt9IHJldHVybiBkb2NzOyB9XG4vLyBjb25zdCBNRU1PPXtkb2NzOm51bGx9OyBleHBvcnQgZnVuY3Rpb24gZ2V0RG9jcygpeyBpZighTUVNTy5kb2NzKSBNRU1PLmRvY3M9bG9hZEtub3dsZWRnZSgpOyByZXR1cm4gTUVNTy5kb2NzOyB9XG4vLyBleHBvcnQgZnVuY3Rpb24gcmV0cmlldmUocXVlcnksaz02KXsgY29uc3QgZG9jcz1nZXREb2NzKCk7IGNvbnN0IHJhbmtlZD1kb2NzLm1hcChkPT4oe2QsczpzY29yZShxdWVyeSxkLnRleHQpfSkpLnNvcnQoKGEsYik9PmIucy1hLnMpLnNsaWNlKDAsaykubWFwKHg9PnguZCk7IHJldHVybiByYW5rZWQ7IH1cbi8vIGV4cG9ydCBmdW5jdGlvbiBzeW50aGVzaXplQW5zd2VyKHF1ZXJ5LHByb2ZpbGUsaGl0cyl7XG4vLyAgIGNvbnN0IGhlYWRlcj1wcm9maWxlPy5uYW1lP2BGb3IgJHtwcm9maWxlLm5hbWV9ICgke3Byb2ZpbGUuc3RhbmRhcmR9LCBpbnRlcmVzdDogJHtwcm9maWxlLmludGVyZXN0fSwgbGV2ZWw6ICR7cHJvZmlsZS5sZXZlbH0pXFxuXFxuYDpcIlwiO1xuLy8gICBjb25zdCBjb250ZXh0PWhpdHMubWFwKGg9PmDigKIgJHtoLnRleHQucmVwbGFjZSgvXFxuKy9nLCcgJykuc2xpY2UoMCwzMDApfS4uLmApLmpvaW4oXCJcXG5cIik7XG4vLyAgIGNvbnN0IHByb21wdExpa2U9W2BRdWVzdGlvbjogJHtxdWVyeX1gLGBDb250ZXh0IChzbmlwcGV0cyk6XFxuJHtjb250ZXh0fWAsYEd1aWRlbGluZXM6IFByb3ZpZGUgYSBjb25jaXNlLCBhY3Rpb25hYmxlIGFuc3dlciB3aXRoIHN0ZXBzLCByZWNvbW1lbmRlZCBza2lsbHMvY2VydHMsIGFuZCAyIHNhbXBsZSBwcm9qZWN0cy4gQWxpZ24gd2l0aCB0aGUgdXNlcidzIGxldmVsIGFuZCBnb2FsIGlmIHByb3ZpZGVkLmBdLmpvaW4oXCJcXG5cXG5cIik7XG4vLyAgIGNvbnN0IHN0ZXBzPVtcIlN0YXJ0IHdpdGggZm91bmRhdGlvbnMgKGNvcmUgc3ViamVjdHMgJiB0ZXJtaW5vbG9neSkuXCIsXCJCdWlsZCBwcmFjdGljYWwgc2tpbGxzIHZpYSBhIHNob3J0IHByb2plY3QuXCIsXCJFYXJuIG9uZSByZXB1dGVkIGNlcnRpZmljYXRpb24gcmVsZXZhbnQgdG8geW91ciB0cmFjay5cIixcIkpvaW4gYSBjb21tdW5pdHk7IGFwcGx5IGZvciBpbnRlcm5zaGlwcyBvciBjaGFsbGVuZ2VzLlwiXS5qb2luKFwiXFxuLSBcIik7XG4vLyAgIGNvbnN0IHJlYz1oaXRzWzBdPy50ZXh0Py5zbGljZSgwLDIwMCl8fFwiXCI7XG4vLyAgIHJldHVybiBgJHtoZWFkZXJ9JHtwcm9tcHRMaWtlfVxcblxcbkFuc3dlcjpcXG4tICR7c3RlcHN9XFxuXFxuQmFzZWQgb24gdGhlIGNvbnRleHQsIGZvY3VzIG9uOiAke3JlY30uLi5cXG5cXG5TYW1wbGUgcHJvamVjdHM6XFxuMSkgTWluaSBjYXBzdG9uZSBhbGlnbmVkIHRvIHlvdXIgaW50ZXJlc3QgKGRvY3VtZW50IG91dGNvbWVzKS5cXG4yKSBQb3J0Zm9saW8gcGllY2UgKHB1Ymxpc2ggb24gR2l0SHViL0JlaGFuY2UpLlxcblxcbllvdSBjYW4gYXNrIGZvbGxvdy11cHMgbGlrZTogXCJXaGljaCBjZXJ0IGZpcnN0P1wiIG9yIFwiQ3JlYXRlIGEgMTItd2VlayBwbGFuLlwiYDtcbi8vIH1cbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJTRUVEU19ESVIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsInNwbGl0SW50b0NodW5rcyIsInRleHQiLCJwYXJ0cyIsInNwbGl0IiwibWFwIiwicCIsInRyaW0iLCJmaWx0ZXIiLCJCb29sZWFuIiwiY2h1bmtzIiwibGVuZ3RoIiwicHVzaCIsImkiLCJzbGljZSIsInNjb3JlIiwicXVlcnkiLCJjaHVuayIsInEiLCJ0b0xvd2VyQ2FzZSIsInMiLCJ0b2tlbiIsIlJlZ0V4cCIsInRlc3QiLCJpbmNsdWRlcyIsIk1FTU8iLCJsb2FkS25vd2xlZGdlIiwiZmlsZXMiLCJleGlzdHNTeW5jIiwicmVhZGRpclN5bmMiLCJmIiwiZW5kc1dpdGgiLCJkb2NzIiwicmVhZEZpbGVTeW5jIiwiaWQiLCJyZXRyaWV2ZSIsImsiLCJyYW5rZWQiLCJkIiwic29ydCIsImEiLCJiIiwieCIsInRvcEtleXdvcmRzRnJvbUhpdHMiLCJoaXRzIiwibWF4IiwiaCIsInRva2VucyIsIm1hdGNoIiwiZnJlcSIsImZvckVhY2giLCJ0IiwiY29tbW9uIiwiY2FuZGlkYXRlcyIsIk9iamVjdCIsImtleXMiLCJwaWNrcyIsImMiLCJ0b1VwcGVyQ2FzZSIsImdlbmVyYXRlMTJXZWVrUGxhbiIsInByb2ZpbGUiLCJpbnRlcmVzdCIsImxldmVsIiwid2Vla3MiLCJzeW50aGVzaXplQW5zd2VyIiwiQXJyYXkiLCJpc0FycmF5IiwibmFtZVBhcnQiLCJuYW1lIiwic3VtbWFyeSIsInNraWxscyIsImludExvd2VyIiwic3RlcHMiLCJwcm9qZWN0cyIsIndhbnQxMldlZWsiLCJwbGFuU2VjdGlvbiIsImlkeCIsIm91dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/rag.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=C%3A%5CUsers%5Cdell%5CDownloads%5C360CareerChatbotNext%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdell%5CDownloads%5C360CareerChatbotNext&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();